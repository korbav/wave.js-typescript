!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WaveJS=t():e.WaveJS=t()}(this,(function(){return(()=>{var e={7228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},2858:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},4575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},3913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},3884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},3038:(e,t,n)=>{var r=n(2858),o=n(3884),a=n(379),i=n(521);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},379:(e,t,n)=>{var r=n(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},5382:function(e,t,n){!function(e,t,n,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(t),i=o(n),s=o(r),c=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},l=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},u=function(e,t){return{startTime:t,type:"setValue",value:e}},d=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},h=function(e,t,n){var r=n.startTime,o=n.target,a=n.timeConstant;return o+(t-o)*Math.exp((r-e)/a)},f=function(e){return"exponentialRampToValue"===e.type},p=function(e){return"linearRampToValue"===e.type},v=function(e){return f(e)||p(e)},m=function(e){return"setValue"===e.type},g=function(e){return"setValueCurve"===e.type},y=function e(t,n,r,o){var a=t[n];return void 0===a?o:v(a)||m(a)?a.value:g(a)?a.values[a.values.length-1]:h(r,e(t,n-1,a.startTime,o),a)},w=function(e,t,n,r,o){return void 0===n?[r.insertTime,o]:v(n)?[n.endTime,n.value]:m(n)?[n.startTime,n.value]:g(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,y(e,t-1,n.startTime,o)]},C=function(e){return"cancelAndHold"===e.type},_=function(e){return"cancelScheduledValues"===e.type},b=function(e){return C(e)||_(e)?e.cancelTime:f(e)||p(e)?e.endTime:e.startTime},x=function(e,t,n,r){var o=r.endTime,a=r.value;return n===a?a:0<n&&0<a||n<0&&a<0?n*Math.pow(a/n,(e-t)/(o-t)):0},M=function(e,t,n,r){return n+(e-t)/(r.endTime-t)*(r.value-n)},O=function(e,t){var n=t.duration,r=t.startTime,o=t.values;return function(e,t){var n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]}(o,(e-r)/n*(o.length-1))},A=function(e){return"setTarget"===e.type},E=function(){function e(t){i.default(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return s.default(e,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=b(e);if(C(e)||_(e)){var n=this._automationEvents.findIndex((function(n){return _(e)&&g(n)?n.startTime+n.duration>=t:b(n)>=t})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),C(e)){var o=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&v(r)){if(A(o))throw new Error("The internal list is malformed.");var a=g(o)?o.startTime+o.duration:b(o),i=g(o)?o.values[o.values.length-1]:o.value,s=f(r)?x(t,a,i,r):M(t,a,i,r),h=f(r)?c(s,t,this._currenTime):l(s,t,this._currenTime);this._automationEvents.push(h)}void 0!==o&&A(o)&&this._automationEvents.push(u(this.getValue(t),t)),void 0!==o&&g(o)&&o.startTime+o.duration>t&&(this._automationEvents[this._automationEvents.length-1]=d(new Float32Array([6,7]),o.startTime,t-o.startTime))}}else{var m=this._automationEvents.findIndex((function(e){return b(e)>t})),y=-1===m?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[m-1];if(void 0!==y&&g(y)&&b(y)+y.duration>t)return!1;var w=f(e)?c(e.value,e.endTime,this._currenTime):p(e)?l(e.value,t,this._currenTime):e;if(-1===m)this._automationEvents.push(w);else{if(g(e)&&t+e.duration>b(this._automationEvents[m]))return!1;this._automationEvents.splice(m,0,w)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return b(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),r=n[0];A(r)&&n.unshift(u(y(this._automationEvents,t-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var t=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex((function(t){return b(t)>e})),r=this._automationEvents[n],o=b(t)<=e?t:this._automationEvents[n-1];if(void 0!==o&&A(o)&&(void 0===r||!v(r)||r.insertTime>e))return h(e,y(this._automationEvents,n-2,o.startTime,this._defaultValue),o);if(void 0!==o&&m(o)&&(void 0===r||!v(r)))return o.value;if(void 0!==o&&g(o)&&(void 0===r||!v(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?O(e,o):o.values[o.values.length-1];if(void 0!==o&&v(o)&&(void 0===r||!v(r)))return o.value;if(void 0!==r&&f(r)){var i=w(this._automationEvents,n-1,o,r,this._defaultValue),s=a.default(i,2),c=s[0],l=s[1];return x(e,c,l,r)}if(void 0!==r&&p(r)){var u=w(this._automationEvents,n-1,o,r,this._defaultValue),d=a.default(u,2),C=d[0],_=d[1];return M(e,C,_,r)}return this._defaultValue}}]),e}();e.AutomationEventList=E,e.createCancelAndHoldAutomationEvent=function(e){return{cancelTime:e,type:"cancelAndHold"}},e.createCancelScheduledValuesAutomationEvent=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},e.createExponentialRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},e.createLinearRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},e.createSetTargetAutomationEvent=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}},e.createSetValueAutomationEvent=u,e.createSetValueCurveAutomationEvent=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(3038),n(4575),n(3913))},1989:(e,t,n)=>{var r=n(1789),o=n(401),a=n(7667),i=n(1327),s=n(1866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},8407:(e,t,n)=>{var r=n(7040),o=n(4125),a=n(2117),i=n(7518),s=n(4705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),o=n(1285),a=n(6e3),i=n(9916),s=n(5265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=s,e.exports=c},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},4865:(e,t,n)=>{var r=n(9465),o=n(7813),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},9465:(e,t,n)=>{var r=n(8777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7786:(e,t,n)=>{var r=n(1811),o=n(327);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},4239:(e,t,n)=>{var r=n(2705),o=n(9607),a=n(2333),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},8565:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},9454:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},8458:(e,t,n)=>{var r=n(3560),o=n(5346),a=n(3218),i=n(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?h:s).test(i(e))}},611:(e,t,n)=>{var r=n(4865),o=n(1811),a=n(5776),i=n(3218),s=n(327);e.exports=function(e,t,n,c){if(!i(e))return e;for(var l=-1,u=(t=o(t,e)).length,d=u-1,h=e;null!=h&&++l<u;){var f=s(t[l]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(l!=d){var v=h[f];void 0===(p=c?c(v,f,h):void 0)&&(p=i(v)?v:a(t[l+1])?[]:{})}r(h,f,p),h=h[f]}return e}},531:(e,t,n)=>{var r=n(2705),o=n(9932),a=n(1469),i=n(3448),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1811:(e,t,n)=>{var r=n(1469),o=n(5403),a=n(5514),i=n(9833);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},8777:(e,t,n)=>{var r=n(852),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),o=n(7801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},9607:(e,t,n)=>{var r=n(2705),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(1811),o=n(5694),a=n(1469),i=n(5776),s=n(1780),c=n(327);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var h=c(t[l]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(h,u)&&(a(e)||o(e))}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5403:(e,t,n)=>{var r=n(1469),o=n(3448),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||i.test(e)||!a.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,o=n(4429),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),o=n(8407),a=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},4523:(e,t,n)=>{var r=n(8306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},5514:(e,t,n)=>{var r=n(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)})),t}));e.exports=i},327:(e,t,n)=>{var r=n(3448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7361:(e,t,n)=>{var r=n(7786);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},8721:(e,t,n)=>{var r=n(8565),o=n(222);e.exports=function(e,t){return null!=e&&o(e,t,r)}},5694:(e,t,n)=>{var r=n(9454),o=n(7005),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},3560:(e,t,n)=>{var r=n(4239),o=n(3218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},8306:(e,t,n)=>{var r=n(3369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},6968:(e,t,n)=>{var r=n(611);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},8513:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnalyserNode:()=>Rt,AudioBuffer:()=>Gt,AudioBufferSourceNode:()=>Kt,AudioContext:()=>Qn,AudioWorkletNode:()=>dr,BiquadFilterNode:()=>tn,ChannelMergerNode:()=>an,ChannelSplitterNode:()=>sn,ConstantSourceNode:()=>un,ConvolverNode:()=>hn,DelayNode:()=>fn,DynamicsCompressorNode:()=>vn,GainNode:()=>mn,IIRFilterNode:()=>Cn,MediaElementAudioSourceNode:()=>Un,MediaStreamAudioDestinationNode:()=>Hn,MediaStreamAudioSourceNode:()=>$n,MediaStreamTrackAudioSourceNode:()=>Kn,MinimalAudioContext:()=>hr,MinimalOfflineAudioContext:()=>vr,OfflineAudioContext:()=>mr,OscillatorNode:()=>An,PannerNode:()=>Nn,PeriodicWave:()=>kn,StereoPannerNode:()=>jn,WaveShaperNode:()=>Fn,addAudioWorkletModule:()=>qn,decodeAudioData:()=>Yn,isAnyAudioContext:()=>gr,isAnyAudioNode:()=>yr,isAnyAudioParam:()=>wr,isAnyOfflineAudioContext:()=>Cr,isSupported:()=>_r});var r=n(5382);const o=new WeakSet,a=new WeakMap,i=new WeakMap,s=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p={construct:()=>p},v=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,m=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(v);for(;null!==o;){const e=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(v)}return[n.join(";"),r]},g=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},y=e=>{if(!(e=>{try{new new Proxy(e,p)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},w=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},C=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return e.delete(r),r},_=(e,t,n,r)=>{const o=w(e,t),a=C(o,(e=>e[0]===n&&e[1]===r));return 0===o.size&&e.delete(t),a},b=e=>w(u,e),x=e=>{if(o.has(e))throw new Error("The AudioNode is already stored.");o.add(e),b(e).forEach((e=>e(!0)))},M=e=>"port"in e,O=e=>{if(!o.has(e))throw new Error("The AudioNode is not stored.");o.delete(e),b(e).forEach((e=>e(!1)))},A=(e,t)=>{!M(e)&&t.every((e=>0===e.size))&&O(e)},E={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},S=(e,t)=>e.context===t,I=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},T=()=>new DOMException("","IndexSizeError"),P=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw T();throw e}})},N={numberOfChannels:1},k=-34028234663852886e22,D=-k,R=e=>o.has(e),j={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},B=e=>w(a,e),F=e=>w(s,e),L=(e,t)=>{const{activeInputs:n}=B(e);n.forEach((n=>n.forEach((([n])=>{t.includes(e)||L(n,[...t,e])}))));const r=(e=>"playbackRate"in e)(e)?[e.playbackRate]:M(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e)(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const e of r){const n=F(e);void 0!==n&&n.activeInputs.forEach((([e])=>L(e,t)))}R(e)&&O(e)},W=e=>{L(e.destination,[])},V=e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e),G=e=>"context"in e,z=e=>G(e[0]),q=(e,t,n,r)=>{for(const t of e)if(n(t)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},X=(e,t,[n,r],o)=>{q(e,[t,n,r],(e=>e[0]===t&&e[1]===n),o)},Y=(e,[t,n,r],o)=>{const a=e.get(t);void 0===a?e.set(t,new Set([[n,r]])):q(a,[n,r],(e=>e[0]===n),o)},Z=e=>"inputs"in e,U=(e,t,n,r)=>{if(Z(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},H=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},$=(e,t)=>{if(!b(e).delete(t))throw new Error("Missing the expected event listener.")},K=(e,t,n)=>{const r=w(e,t),o=C(r,(e=>e[0]===n));return 0===r.size&&e.delete(t),o},Q=(e,t,n,r)=>{Z(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},J=e=>w(i,e),ee=e=>w(c,e),te=e=>d.has(e),ne=e=>!o.has(e),re=e=>new Promise((t=>{const n=e.createScriptProcessor(256,1,1),r=e.createGain(),o=e.createBuffer(1,2,44100),a=o.getChannelData(0);a[0]=1,a[1]=1;const i=e.createBufferSource();i.buffer=o,i.loop=!0,i.connect(n).connect(e.destination),i.connect(r),i.disconnect(r),n.onaudioprocess=r=>{const o=r.inputBuffer.getChannelData(0);Array.prototype.some.call(o,(e=>1===e))?t(!0):t(!1),i.stop(),n.onaudioprocess=null,i.disconnect(n),n.disconnect(e.destination)},i.start()})),oe=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},ae=e=>"context"in e,ie=e=>{const t=new Map;var n,r;e.connect=(n=e.connect.bind(e),(e,r=0,o=0)=>{const a=ae(e)?n(e,r,o):n(e,r),i=t.get(e);return void 0===i?t.set(e,[{input:o,output:r}]):i.every((e=>e.input!==o||e.output!==r))&&i.push({input:o,output:r}),a}),e.disconnect=(r=e.disconnect,(n,o,a)=>{if(r.apply(e),void 0===n)t.clear();else if("number"==typeof n)for(const[e,r]of t){const o=r.filter((e=>e.output!==n));0===o.length?t.delete(e):t.set(e,o)}else if(t.has(n))if(void 0===o)t.delete(n);else{const e=t.get(n);if(void 0!==e){const r=e.filter((e=>e.output!==o&&(e.input!==a||void 0===a)));0===r.length?t.delete(n):t.set(n,r)}}for(const[n,r]of t)r.forEach((t=>{ae(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})},se=(e,t,n,r,o)=>{const[a,i]=((e,t,n,r)=>{const{activeInputs:o,passiveInputs:a}=B(t),i=H(o[r],e,n);return null===i?[_(a,e,n,r)[2],!1]:[i[2],!0]})(e,n,r,o);if(null!==a&&($(e,a),!i||t||te(e)||Q(J(e),J(n),r,o)),R(n)){const{activeInputs:e}=B(n);A(n,e)}},ce=(e,t,n,r)=>{const[o,a]=((e,t,n)=>{const{activeInputs:r,passiveInputs:o}=F(t),a=H(r,e,n);return null===a?[K(o,e,n)[1],!1]:[a[2],!0]})(e,n,r);null!==o&&($(e,o),!a||t||te(e)||J(e).disconnect(ee(n),r))};class le{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach(((n,r)=>e.call(t,n,r,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const ue={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function de(e,t,n,r,o){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,o);else{const a=e.getChannelData(r);if(0===t[n].byteLength)t[n]=a.slice(o,o+128);else{const e=new Float32Array(a.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const he=(e,t,n,r,o)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],r,o):0!==t[n].byteLength&&e.getChannelData(r).set(t[n],o)},fe=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const e=[],o="number"==typeof t?t:t[r];for(let t=0;t<o;t+=1)e.push(new Float32Array(128));n.push(e)}return n},pe=async(e,t,n,r,o,a,i)=>{const s=null===t?128*Math.ceil(e.context.length/128):t.length,c=r.channelCount*r.numberOfInputs,l=o.reduce(((e,t)=>e+t),0),u=0===l?null:n.createBuffer(l,s,n.sampleRate);if(void 0===a)throw new Error("Missing the processor constructor.");const d=B(e),h=await((e,t)=>{const n=w(f,e),r=J(t);return w(n,r)})(n,e),p=fe(r.numberOfInputs,r.channelCount),v=fe(r.numberOfOutputs,o),m=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let l=0;l<s;l+=128){if(r.numberOfInputs>0&&null!==t)for(let e=0;e<r.numberOfInputs;e+=1)for(let n=0;n<r.channelCount;n+=1)de(t,p[e],n,n,l);void 0!==a.parameterDescriptors&&null!==t&&a.parameterDescriptors.forEach((({name:e},n)=>{de(t,m,e,c+n,l)}));for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<o[e];t+=1)0===v[e][t].byteLength&&(v[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===d.activeInputs[t].size?[]:e)),t=i(l/n.sampleRate,n.sampleRate,(()=>h.process(e,v,m)));if(null!==u)for(let e=0,t=0;e<r.numberOfOutputs;e+=1){for(let n=0;n<o[e];n+=1)he(u,v[e],n,t+n,l);t+=o[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}));break}}return u},ve={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},me={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ge={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ye={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},we={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Ce={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},_e=(e,t,n)=>{const r=t[n];if(void 0===r)throw e();return r},be={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},xe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Me=()=>new DOMException("","InvalidStateError"),Oe=()=>new DOMException("","InvalidAccessError"),Ae={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ee=(e,t,n,r,o,a,i,s,c,l,u)=>{const d=l.length;let h=s;for(let s=0;s<d;s+=1){let d=n[0]*l[s];for(let t=1;t<o;t+=1){const r=h-t&c-1;d+=n[t]*a[r],d-=e[t]*i[r]}for(let e=o;e<r;e+=1)d+=n[e]*a[h-e&c-1];for(let n=o;n<t;n+=1)d-=e[n]*i[h-n&c-1];a[h]=l[s],i[h]=d,h=h+1&c-1,u[s]=d}return h},Se={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Ie=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Te={numberOfChannels:1},Pe=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n]&&(e[n]=r)},Ne=(e,t)=>{Pe(e,t,"channelCount"),Pe(e,t,"channelCountMode"),Pe(e,t,"channelInterpretation")},ke=e=>"function"==typeof e.getFloatTimeDomainData,De=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n].value&&(e[n].value=r)},Re=e=>{var t;e.start=(t=e.start,(n=0,r=0,o)=>{if("number"==typeof o&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})},je=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},Be=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Fe=(e,t)=>{const n=e.createBiquadFilter();return Ne(n,t),De(n,t,"Q"),De(n,t,"detune"),De(n,t,"frequency"),De(n,t,"gain"),Pe(n,t,"type"),n},Le=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Ne(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Me()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Me()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Me()}})})(n),n},We=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Ve=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return Ne(n,t),De(n,t,"delayTime"),n},Ge=(e,t)=>{const n=e.createGain();return Ne(n,t),De(n,t,"gain"),n};function ze(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function qe(e,t){let n=[0,0];for(let a=e.length-1;a>=0;a-=1)o=t,n=[(r=n)[0]*o[0]-r[1]*o[1],r[0]*o[1]+r[1]*o[0]],n[0]+=e[a];var r,o;return n}const Xe=(e,t,n,r)=>e.createScriptProcessor(t,n,r),Ye=()=>new DOMException("","NotSupportedError"),Ze={numberOfChannels:1},Ue={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},He={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},$e={disableNormalization:!1},Ke={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Qe=()=>new DOMException("","UnknownError"),Je={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},et=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},tt=(e,t,n,r)=>{let o=Object.getPrototypeOf(e);for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:a,set:i}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(a),set:r(i)})},nt=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(9!==r.code)throw r;nt(e,t,n+1e-7)}},rt=e=>{const t=e.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},ot=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},at=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},it=()=>{try{new DOMException}catch{return!1}return!0},st=()=>new Promise((e=>{const t=new ArrayBuffer(0),{port1:n,port2:r}=new MessageChannel;n.onmessage=({data:t})=>e(null!==t),r.postMessage(t,[t])})),ct=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=e.disconnect,()=>{o.call(e,n),e.removeEventListener("ended",r)});var o;e.addEventListener("ended",r),We(e,n),e.stop=(t=>{let r=!1;return(o=0)=>{if(r)try{t.call(e,o)}catch{n.gain.setValueAtTime(0,o)}else t.call(e,o),r=!0}})(e.stop)},lt=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},ut=(e=>(t,n,[r,o,a],i)=>{e(t[o],[n,r,a],(e=>e[0]===n&&e[1]===r),i)})(q),dt=(e=>(t,n,[r,o,a],i)=>{const s=t.get(r);void 0===s?t.set(r,new Set([[o,n,a]])):e(s,[o,n,a],(e=>e[0]===o&&e[1]===n),i)})(q),ht=(e=>(t,n,r,o)=>e(t[o],(e=>e[0]===n&&e[1]===r)))(C),ft=new WeakMap,pt=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(ft),vt=(mt=new Map,gt=new WeakMap,(e,t)=>{const n=gt.get(e);if(void 0!==n)return n;const r=mt.get(e);if(void 0!==r)return r;try{const n=t();return n instanceof Promise?(mt.set(e,n),n.catch((()=>!1)).then((t=>(mt.delete(e),gt.set(e,t),t)))):(gt.set(e,n),n)}catch{return gt.set(e,!1),!1}});var mt,gt;const yt="undefined"==typeof window?null:window,wt=((e,t)=>(n,r)=>{const o=n.createAnalyser();if(Ne(o,r),!(r.maxDecibels>r.minDecibels))throw t();return Pe(o,r,"fftSize"),Pe(o,r,"maxDecibels"),Pe(o,r,"minDecibels"),Pe(o,r,"smoothingTimeConstant"),e(ke,(()=>ke(o)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let e=0;e<r;e+=1)t[e]=.0078125*(n[e]-128);return t}})(o),o})(vt,T),Ct=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(B),_t=((e,t,n)=>async(r,o,a,i)=>{const s=e(r),c=[...i,r];await Promise.all(s.activeInputs.map(((e,i)=>Array.from(e).filter((([e])=>!c.includes(e))).map((async([e,s])=>{const l=t(e),u=await l.render(e,o,c),d=r.context.destination;n(e)||r===d&&n(r)||u.connect(a,s,i)})))).reduce(((e,t)=>[...e,...t]),[]))})(B,Ct,te),bt=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!S(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,fftSize:s.fftSize,maxDecibels:s.maxDecibels,minDecibels:s.minDecibels,smoothingTimeConstant:s.smoothingTimeConstant};s=e(a,t)}return r.set(a,s),await n(o,a,s,i),s})(o,a,i)}}})(wt,J,_t),xt=(Mt=l,e=>{const t=Mt.get(e);if(void 0===t)throw Me();return t});var Mt;const Ot=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(yt),At=(e=>t=>null!==e&&t instanceof e)(Ot),Et=new WeakMap,St=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,r){if(null!==n){let o=this._listeners.get(n);void 0===o&&(o=e(this,n),"function"==typeof n&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(t,o,r)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const r=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===r?null:r,n)}})(lt),It=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(yt),Tt=(e=>t=>null!==e&&t instanceof e)(It),Pt=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(yt),Nt=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(yt),kt=((e,t,n,r,o,a,s,c,l,d,h,f,p,v,m)=>class extends d{constructor(t,r,o,a){super(o),this._context=t,this._nativeAudioNode=o;const s=h(t);f(s)&&!0!==n(re,(()=>re(s)))&&ie(o),i.set(this,o),u.set(this,new Set),"closed"!==t.state&&r&&x(this),e(this,a,o)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,i=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw o();const c=h(this._context),u=m(c);if(p(e)||v(e))throw a();if(G(e)){const o=J(e);try{const t=U(this._nativeAudioNode,o,n,i),r=ne(this);(u||r)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!r&&ne(e)&&x(e)}catch(e){if(12===e.code)throw a();throw e}if(t(this,e,n,i,u)){const t=l([this],e);oe(t,r(u))}return e}const d=ee(e);if("playbackRate"===d.name&&1024===d.maxValue)throw s();try{this._nativeAudioNode.connect(d,n),(u||ne(this))&&this._nativeAudioNode.disconnect(d,n)}catch(e){if(12===e.code)throw a();throw e}if(((e,t,n,r)=>{const{activeInputs:o,passiveInputs:a}=F(t),{outputs:i}=B(e),s=b(e),c=i=>{const s=J(e),c=ee(t);if(i){const t=K(a,e,n);X(o,e,t,!1),r||te(e)||s.connect(c,n)}else{const t=((e,t,n)=>C(e,(e=>e[0]===t&&e[1]===n)))(o,e,n);Y(a,t,!1),r||te(e)||s.disconnect(c,n)}};return!!q(i,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(s.add(c),R(e)?X(o,e,[n,c],!0):Y(a,[e,n,c],!0),!0)})(this,e,n,u)){const t=l([this],e);oe(t,r(u))}}disconnect(e,t,n){let r;const i=h(this._context),s=m(i);if(void 0===e)r=((e,t)=>{const n=B(e),r=[];for(const o of n.outputs)z(o)?se(e,t,...o):ce(e,t,...o),r.push(o[0]);return n.outputs.clear(),r})(this,s);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw o();r=((e,t,n)=>{const r=B(e),o=[];for(const a of r.outputs)a[1]===n&&(z(a)?se(e,t,...a):ce(e,t,...a),o.push(a[0]),r.outputs.delete(a));return o})(this,s,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw o();if(G(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw o();if(r=((e,t,n,r,o)=>{const a=B(e);return Array.from(a.outputs).filter((e=>!(e[0]!==n||void 0!==r&&e[1]!==r||void 0!==o&&e[2]!==o))).map((n=>(z(n)?se(e,t,...n):ce(e,t,...n),a.outputs.delete(n),n[0])))})(this,s,e,t,n),0===r.length)throw a()}for(const e of r){const t=l([this],e);oe(t,c)}}})((Dt=a,(e,t,n)=>{const r=[];for(let e=0;e<n.numberOfInputs;e+=1)r.push(new Set);Dt.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,r,o,a,i,s,c,l,u,d,h)=>{const f=new WeakMap;return(p,v,m,g,y)=>{const{activeInputs:w,passiveInputs:C}=a(v),{outputs:b}=a(p),M=s(p),O=a=>{const s=c(v),l=c(p);if(a){const t=_(C,p,m,g);e(w,p,t,!1),y||d(p)||n(l,s,m,g),h(v)&&x(v)}else{const e=r(w,p,m,g);t(C,g,e,!1),y||d(p)||o(l,s,m,g);const n=i(v);if(0===n)u(v)&&A(v,w);else{const e=f.get(v);void 0!==e&&clearTimeout(e),f.set(v,setTimeout((()=>{u(v)&&A(v,w)}),1e3*n))}}};return!!l(b,[v,m,g],(e=>e[0]===v&&e[1]===m&&e[2]===g),!0)&&(M.add(O),u(p)?e(w,p,[m,g,O],!0):t(C,g,[p,m,O],!0),!0)}})(ut,dt,U,ht,Q,B,pt,b,J,q,R,te,ne),vt,((e,t,n,r,o,a)=>i=>(s,c)=>{const l=e.get(s);if(void 0===l){if(!i&&a(s)){const e=r(s),{outputs:a}=n(s);for(const n of a)if(z(n)){const o=r(n[0]);t(e,o,n[1],n[2])}else{const t=o(n[0]);e.disconnect(t,n[1])}}e.set(s,c)}else e.set(s,l+c)})(d,Q,B,J,ee,R),T,Oe,Ye,((e,t,n,r,o,a,i,s)=>(c,l)=>{const u=t.get(c);if(void 0===u)throw new Error("Missing the expected cycle count.");const d=a(c.context),h=s(d);if(u===l){if(t.delete(c),!h&&i(c)){const t=r(c),{outputs:a}=n(c);for(const n of a)if(z(n)){const o=r(n[0]);e(t,o,n[1],n[2])}else{const e=o(n[0]);t.connect(e,n[1])}}}else t.set(c,u-l)})(U,d,B,J,ee,xt,R,At),((e,t,n)=>function r(o,a){const i=G(a)?a:n(e,a);if((e=>"delayTime"in e)(i))return[];if(o[0]===i)return[o];if(o.includes(i))return[];const{outputs:s}=t(i);return Array.from(s).map((e=>r([...o,i],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(Et,B,w),St,xt,Tt,Pt,Nt,At);var Dt;const Rt=((e,t,n,r,o,a)=>class extends e{constructor(e,n){const i=o(e),s={...E,...n},c=r(i,s);super(e,!1,c,a(i)?t():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(kt,bt,T,wt,xt,At),jt=new WeakSet,Bt=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(yt),Ft=(Lt=new Uint32Array(1),e=>(Lt[0]=e,Lt[0]));var Lt;const Wt=((e,t)=>n=>{n.copyFromChannel=(r,o,a=0)=>{const i=e(a),s=e(o);if(s>=n.numberOfChannels)throw t();const c=n.length,l=n.getChannelData(s),u=r.length;for(let e=i<0?-i:0;e+i<c&&e<u;e+=1)r[e]=l[e+i]},n.copyToChannel=(r,o,a=0)=>{const i=e(a),s=e(o);if(s>=n.numberOfChannels)throw t();const c=n.length,l=n.getChannelData(s),u=r.length;for(let e=i<0?-i:0;e+i<c&&e<u;e+=1)l[e+i]=r[e]}})(Ft,T),Vt=(e=>t=>{t.copyFromChannel=(n=>(r,o,a=0)=>{const i=e(a),s=e(o);if(i<t.length)return n.call(t,r,s,i)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,a=0)=>{const i=e(a),s=e(o);if(i<t.length)return n.call(t,r,s,i)})(t.copyToChannel)})(Ft),Gt=((e,t,n,r,o,a,i,s)=>{let c=null;return class l{constructor(l){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:d,sampleRate:h}={...N,...l};null===c&&(c=new o(1,1,44100));const f=null!==r&&t(a,a)?new r({length:u,numberOfChannels:d,sampleRate:h}):c.createBuffer(d,u,h);if(0===f.numberOfChannels)throw n();return"function"!=typeof f.copyFromChannel?(i(f),P(f)):t(I,(()=>I(f)))||s(f),e.add(f),f}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===l.prototype||e.has(t)}}})(jt,vt,Ye,Bt,Ot,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})(Bt),Wt,Vt),zt=(e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)})(Ge),qt=((e,t,n)=>async(r,o,a,i)=>{const s=t(r);await Promise.all(Array.from(s.activeInputs).map((async([t,r])=>{const s=e(t),c=await s.render(t,o,i);n(t)||c.connect(a,r)})))})(Ct,F,te),Xt=(e=>(t,n,r,o)=>e(n,t,r,o))(qt),Yt=((e,t,n,r,o,a,i,s,c,l,u)=>(c,d)=>{const h=c.createBufferSource();return Ne(h,d),De(h,d,"playbackRate"),Pe(h,d,"buffer"),Pe(h,d,"loop"),Pe(h,d,"loopEnd"),Pe(h,d,"loopStart"),t(n,(()=>n(c)))||(e=>{e.start=(t=>{let n=!1;return(r=0,o=0,a)=>{if(n)throw Me();t.call(e,r,o,a),n=!0}})(e.start)})(h),t(r,(()=>r(c)))||(e=>{var t;e.start=(t=e.start,(n=0,r=0,o)=>{const a=e.buffer,i=null===a?r:Math.min(a.duration,r);null!==a&&i>a.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,i,o)})})(h),t(o,(()=>o(c)))||l(h,c),t(a,(()=>a(c)))||Re(h),t(i,(()=>i(c)))||u(h,c),t(s,(()=>s(c)))||je(h),e(c,h),h})(zt,vt,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),rt,ot,at,0,(e=>(t,n)=>{const r=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=r),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===r?null:n}),(e=>n=>e.call(t,null===n?r:n)))})(tt),ct),Zt=((e,t)=>(n,r,o,a)=>(e(r).replay(o),t(r,n,o,a)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(F),qt),Ut=((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(c,l,u){const d=a.get(l);return void 0!==d?Promise.resolve(d):(async(c,l,u)=>{let d=n(c);const h=S(d,l);if(!h){const e={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=t(l,e),null!==i&&d.start(...i),null!==s&&d.stop(s)}return a.set(l,d),h?await e(l,c.playbackRate,d.playbackRate,u):await r(l,c.playbackRate,d.playbackRate,u),await o(c,l,d,u),d})(c,l,u)}}})(Xt,Yt,J,Zt,_t),Ht=((e,t,n,o,a,i,s,c,l,u,d,h,f)=>(o,p,v,m=null,g=null)=>{const y=new r.AutomationEventList(v.defaultValue),w=p?(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:r}=n;t.exponentialRampToValueAtTime(r,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:r}=n;t.linearRampToValueAtTime(r,e)}else if("setTarget"===n.type){const{startTime:e,target:r,timeConstant:o}=n;t.setTargetAtTime(r,e,o)}else if("setValue"===n.type){const{startTime:e,value:r}=n;t.setValueAtTime(r,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:r,values:o}=n;t.setValueCurveAtTime(o,r,e)}}}}))(y):null,C={get defaultValue(){return v.defaultValue},get maxValue(){return null===m?v.maxValue:m},get minValue(){return null===g?v.minValue:g},get value(){return v.value},set value(e){v.value=e,C.setValueAtTime(e,o.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof v.cancelAndHoldAtTime)null===w&&y.flush(o.context.currentTime),y.add(a(e)),v.cancelAndHoldAtTime(e);else{const t=Array.from(y).pop();null===w&&y.flush(o.context.currentTime),y.add(a(e));const n=Array.from(y).pop();v.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?v.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?v.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?v.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&v.setValueCurveAtTime(n.values,n.startTime,n.duration))}return C},cancelScheduledValues:e=>(null===w&&y.flush(o.context.currentTime),y.add(i(e)),v.cancelScheduledValues(e),C),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;return null===w&&y.flush(o.context.currentTime),y.add(s(e,t)),v.exponentialRampToValueAtTime(e,t),C},linearRampToValueAtTime:(e,t)=>(null===w&&y.flush(o.context.currentTime),y.add(c(e,t)),v.linearRampToValueAtTime(e,t),C),setTargetAtTime:(e,t,n)=>(null===w&&y.flush(o.context.currentTime),y.add(l(e,t,n)),v.setTargetAtTime(e,t,n),C),setValueAtTime:(e,t)=>(null===w&&y.flush(o.context.currentTime),y.add(u(e,t)),v.setValueAtTime(e,t),C),setValueCurveAtTime(e,t,n){const r=e instanceof Float32Array?e:new Float32Array(e);if(null!==h&&"webkitAudioContext"===h.name){const e=t+n,a=o.context.sampleRate,i=Math.ceil(t*a),s=Math.floor(e*a),c=s-i,l=new Float32Array(c);for(let e=0;e<c;e+=1){const o=(r.length-1)/n*((i+e)/a-t),s=Math.floor(o),c=Math.ceil(o);l[e]=s===c?r[s]:(1-(o-s))*r[s]+(1-(c-o))*r[c]}null===w&&y.flush(o.context.currentTime),y.add(d(l,t,n)),v.setValueCurveAtTime(l,t,n);const u=s/a;u<e&&f(C,l[l.length-1],u),f(C,r[r.length-1],e)}else null===w&&y.flush(o.context.currentTime),y.add(d(r,t,n)),v.setValueCurveAtTime(r,t,n);return C}};return n.set(C,v),t.set(C,o),e(C,w),C})(($t=s,(e,t)=>{$t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Et,c,0,r.createCancelAndHoldAutomationEvent,r.createCancelScheduledValuesAutomationEvent,r.createExponentialRampToValueAutomationEvent,r.createLinearRampToValueAutomationEvent,r.createSetTargetAutomationEvent,r.createSetValueAutomationEvent,r.createSetValueCurveAutomationEvent,It,nt);var $t;const Kt=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,r){const s=a(e),c={...j,...r},l=o(s,c),u=i(s),d=u?t():null;super(e,!1,l,d),this._audioBufferSourceNodeRenderer=d,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=l,this._onended=null,this._playbackRate=n(this,u,l.playbackRate,D,k)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?s(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){x(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),R(this)&&O(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(kt,Ut,Ht,Me,Yt,xt,At,lt),Qt=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,t){const n=a(e),r=i(n),c=o(n,t,r);super(e,!1,c,r?(e=>{let t=null;return{render:(n,r,o)=>(null===t&&(t=(async(t,n,r)=>{const o=n.destination;return await e(t,n,o,r),o})(n,r,o)),t)}})(s):null),this._isNodeOfNativeOfflineAudioContext=r,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(kt,0,T,Me,((e,t)=>(n,r,o)=>{const a=n.destination;if(a.channelCount!==r)try{a.channelCount=r}catch{}o&&"explicit"!==a.channelCountMode&&(a.channelCountMode="explicit"),0===a.maxChannelCount&&Object.defineProperty(a,"maxChannelCount",{value:r});const i=e(n,{channelCount:r,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return t(i,"channelCount",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t);try{a.channelCount=t}catch(e){if(t>a.maxChannelCount)throw e}})),t(i,"channelCountMode",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),a.channelCountMode=t})),t(i,"channelInterpretation",(e=>()=>e.call(i)),(e=>t=>{e.call(i,t),a.channelInterpretation=t})),Object.defineProperty(i,"maxChannelCount",{get:()=>a.maxChannelCount}),i.connect(a),i})(Ge,tt),xt,At,_t),Jt=((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,c){const l=a.get(s);return void 0!==l?Promise.resolve(l):(async(i,s,c)=>{let l=n(i);const u=S(l,s);if(!u){const e={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(s,e)}return a.set(s,l),u?(await e(s,i.Q,l.Q,c),await e(s,i.detune,l.detune,c),await e(s,i.frequency,l.frequency,c),await e(s,i.gain,l.gain,c)):(await r(s,i.Q,l.Q,c),await r(s,i.detune,l.detune,c),await r(s,i.frequency,l.frequency,c),await r(s,i.gain,l.gain,c)),await o(i,s,l,c),l})(i,s,c)}}})(Xt,Fe,J,Zt,_t),en=(e=>(t,n)=>e.set(t,n))(ft),tn=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,r){const c=a(e),l={...ve,...r},u=o(c,l),d=i(c);super(e,!1,u,d?n():null),this._Q=t(this,d,u.Q,D,k),this._detune=t(this,d,u.detune,1200*Math.log2(D),-1200*Math.log2(D)),this._frequency=t(this,d,u.frequency,e.sampleRate/2,0),this._gain=t(this,d,u.gain,40*Math.log10(D),k),this._nativeBiquadFilterNode=u,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(e){if(11===e.code)throw r();throw e}if(e.length!==t.length||t.length!==n.length)throw r()}})(kt,Ht,Jt,Oe,Fe,xt,At,en),nn=((e,t)=>(n,r,o)=>{const a=new Set;var i,s;return n.connect=(i=n.connect,(o,s=0,c=0)=>{const l=0===a.size;if(t(o))return i.call(n,o,s,c),e(a,[o,s,c],(e=>e[0]===o&&e[1]===s&&e[2]===c),!0),l&&r(),o;i.call(n,o,s),e(a,[o,s],(e=>e[0]===o&&e[1]===s),!0),l&&r()}),n.disconnect=(s=n.disconnect,(e,r,i)=>{const c=a.size>0;if(void 0===e)s.apply(n),a.clear();else if("number"==typeof e){s.call(n,e);for(const t of a)t[1]===e&&a.delete(t)}else{t(e)?s.call(n,e,r,i):s.call(n,e,r);for(const t of a)t[0]!==e||void 0!==r&&t[1]!==r||void 0!==i&&t[2]!==i||a.delete(t)}const l=0===a.size;c&&l&&o()}),n})(q,Pt),rn=((e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,(()=>{const e=r.numberOfInputs;for(let t=0;t<e;t+=1)o.connect(r,0,t)}),(()=>o.disconnect(r)))})(Me,nn),on=((e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,o),Ne(o,r),o})(It,rn),an=((e,t,n,r,o)=>class extends e{constructor(e,a){const i=r(e),s={...me,...a};super(e,!1,n(i,s),o(i)?t():null)}})(kt,((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!S(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=e(a,t)}return r.set(a,s),await n(o,a,s,i),s})(o,a,i)}}})(on,J,_t),on,xt,At),sn=((e,t,n,r,o,a)=>class extends e{constructor(e,a){const i=r(e),s=(e=>({...e,channelCount:e.numberOfOutputs}))({...ge,...a});super(e,!1,n(i,s),o(i)?t():null)}})(kt,((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!S(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=e(a,t)}return r.set(a,s),await n(o,a,s,i),s})(o,a,i)}}})(Le,J,_t),Le,xt,At),cn=((e,t,n,r)=>(o,{offset:a,...i})=>{const s=o.createBuffer(1,2,44100),c=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(o,{...i,gain:a}),u=s.getChannelData(0);u[0]=1,u[1]=1,c.buffer=s,c.loop=!0;const d={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(e){l.channelCount=e},get channelCountMode(){return l.channelCountMode},set channelCountMode(e){l.channelCountMode=e},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(e){l.channelInterpretation=e},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(e){c.onended=e},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2]),start(e=0){c.start.call(c,e)},stop(e=0){c.stop.call(c,e)}};return e(o,c),r(We(d,l),(()=>c.connect(l)),(()=>c.disconnect(l)))})(zt,Yt,Ge,nn),ln=((e,t,n,r,o)=>(a,i)=>{if(void 0===a.createConstantSource)return n(a,i);const s=a.createConstantSource();return Ne(s,i),De(s,i,"offset"),t(r,(()=>r(a)))||Re(s),t(o,(()=>o(a)))||je(s),e(a,s),s})(zt,vt,cn,rt,at),un=((e,t,n,r,o,a,i)=>class extends e{constructor(e,i){const s=o(e),c={...ye,...i},l=r(s,c),u=a(s),d=u?n():null;super(e,!1,l,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=l,this._offset=t(this,u,l.offset,D,k),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){x(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),R(this)&&O(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(kt,Ht,((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(e){i=e},set stop(e){s=e},render(c,l,u){const d=a.get(l);return void 0!==d?Promise.resolve(d):(async(c,l,u)=>{let d=n(c);const h=S(d,l);if(!h){const e={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=t(l,e),null!==i&&d.start(i),null!==s&&d.stop(s)}return a.set(l,d),h?await e(l,c.offset,d.offset,u):await r(l,c.offset,d.offset,u),await o(c,l,d,u),d})(c,l,u)}}})(Xt,ln,J,Zt,_t),ln,xt,At,lt),dn=((e,t)=>(n,r)=>{const o=n.createConvolver();if(Ne(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Pe(o,r,"buffer"),r.channelCount>2)throw e();if(t(o,"channelCount",(e=>()=>e.call(o)),(t=>n=>{if(n>2)throw e();return t.call(o,n)})),"max"===r.channelCountMode)throw e();return t(o,"channelCountMode",(e=>()=>e.call(o)),(t=>n=>{if("max"===n)throw e();return t.call(o,n)})),o})(Ye,tt),hn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=r(e),c={...we,...i},l=n(s,c);super(e,!1,l,o(s)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=l,null!==c.buffer&&a(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,44100),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(kt,((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!S(s,a)){const t={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=e(a,t)}return r.set(a,s),Z(s)?await n(o,a,s.inputs[0],i):await n(o,a,s,i),s})(o,a,i)}}})(dn,J,_t),dn,xt,At,en),fn=((e,t,n,r,o,a,i)=>class extends e{constructor(e,s){const c=o(e),l={...Ce,...s},u=r(c,l),d=a(c);super(e,!1,u,d?n(l.maxDelayTime):null),this._delayTime=t(this,d,u.delayTime),i(this,l.maxDelayTime)}get delayTime(){return this._delayTime}})(kt,Ht,((e,t,n,r,o)=>a=>{const i=new WeakMap;return{render(s,c,l){const u=i.get(c);return void 0!==u?Promise.resolve(u):(async(s,c,l)=>{let u=n(s);const d=S(u,c);if(!d){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:a};u=t(c,e)}return i.set(c,u),d?await e(c,s.delayTime,u.delayTime,l):await r(c,s.delayTime,u.delayTime,l),await o(s,c,u,l),u})(s,c,l)}}})(Xt,Ve,J,Zt,_t),Ve,xt,At,en),pn=(e=>(t,n)=>{const r=t.createDynamicsCompressor();if(Ne(r,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return De(r,n,"attack"),De(r,n,"knee"),De(r,n,"ratio"),De(r,n,"release"),De(r,n,"threshold"),r})(Ye),vn=((e,t,n,r,o,a,i,s)=>class extends e{constructor(e,o){const c=a(e),l={...be,...o},u=r(c,l),d=i(c);super(e,!1,u,d?n():null),this._attack=t(this,d,u.attack),this._knee=t(this,d,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=t(this,d,u.ratio),this._release=t(this,d,u.release),this._threshold=t(this,d,u.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(kt,Ht,((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,c){const l=a.get(s);return void 0!==l?Promise.resolve(l):(async(i,s,c)=>{let l=n(i);const u=S(l,s);if(!u){const e={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(s,e)}return a.set(s,l),u?(await e(s,i.attack,l.attack,c),await e(s,i.knee,l.knee,c),await e(s,i.ratio,l.ratio,c),await e(s,i.release,l.release,c),await e(s,i.threshold,l.threshold,c)):(await r(s,i.attack,l.attack,c),await r(s,i.knee,l.knee,c),await r(s,i.ratio,l.ratio,c),await r(s,i.release,l.release,c),await r(s,i.threshold,l.threshold,c)),await o(i,s,l,c),l})(i,s,c)}}})(Xt,pn,J,Zt,_t),pn,Ye,xt,At,en),mn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=o(e),c={...xe,...i},l=r(s,c),u=a(s);super(e,!1,l,u?n():null),this._gain=t(this,u,l.gain,D,k)}get gain(){return this._gain}})(kt,Ht,((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,c){const l=a.get(s);return void 0!==l?Promise.resolve(l):(async(i,s,c)=>{let l=n(i);const u=S(l,s);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(s,e)}return a.set(s,l),u?await e(s,i.gain,l.gain,c):await r(s,i.gain,l.gain,c),await o(i,s,l,c),l})(i,s,c)}}})(Xt,Ge,J,Zt,_t),Ge,xt,At),gn=((e,t,n,r)=>(o,a,{channelCount:i,channelCountMode:s,channelInterpretation:c,feedback:l,feedforward:u})=>{const d=Be(a,o.sampleRate),h=l instanceof Float64Array?l:new Float64Array(l),f=u instanceof Float64Array?u:new Float64Array(u),p=h.length,v=f.length,m=Math.min(p,v);if(0===p||p>20)throw r();if(0===h[0])throw t();if(0===v||v>20)throw r();if(0===f[0])throw t();if(1!==h[0]){for(let e=0;e<v;e+=1)f[e]/=h[0];for(let e=1;e<p;e+=1)h[e]/=h[0]}const g=n(o,d,i,i);g.channelCount=i,g.channelCountMode=s,g.channelInterpretation=c;const y=[],w=[],C=[];for(let e=0;e<i;e+=1){y.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),w.push(e),C.push(t)}g.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,r=t.numberOfChannels;for(let e=0;e<r;e+=1){const r=t.getChannelData(e),o=n.getChannelData(e);y[e]=Ee(h,p,f,v,m,w[e],C[e],y[e],32,r,o)}};const _=o.sampleRate/2;return We({get bufferSize(){return d},get channelCount(){return g.channelCount},set channelCount(e){g.channelCount=e},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){g.channelCountMode=e},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(e){g.channelInterpretation=e},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener:(...e)=>g.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>g.dispatchEvent(e[0]),getFrequencyResponse(t,n,r){if(t.length!==n.length||n.length!==r.length)throw e();const o=t.length;for(let e=0;e<o;e+=1){const o=-Math.PI*(t[e]/_),a=[Math.cos(o),Math.sin(o)],i=ze(qe(f,a),qe(h,a));n[e]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),r[e]=Math.atan2(i[1],i[0])}},removeEventListener:(...e)=>g.removeEventListener(e[0],e[1],e[2])},g)})(Oe,Me,Xe,Ye),yn=((e,t,n,r)=>o=>e(Ie,(()=>Ie(o)))?Promise.resolve(e(r,r)).then((e=>{if(!e){const e=n(o,512,0,1);o.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>o.currentTime,e.connect(o.destination)}return o.startRendering()})):new Promise((e=>{const n=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(o.destination),o.startRendering()})))(vt,Ge,Xe,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{r.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(Ge,Ot)),wn=((e,t,n,r,o)=>(a,i)=>{const s=new WeakMap;let c=null;return{render(l,u,d){const h=s.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,d)=>{let h=null,f=t(l);const p=S(f,u);if(void 0===u.createIIRFilter?h=e(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(f=u.createIIRFilter(i,a)),s.set(u,null===h?f:h),null!==h){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(l.context.destination.channelCount,l.context.length,u.sampleRate);c=(async()=>(await r(l,e,e.destination,d),((e,t,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),a=r instanceof Float64Array?r:new Float64Array(r),i=o.length,s=a.length,c=Math.min(i,s);if(1!==o[0]){for(let e=0;e<i;e+=1)a[e]/=o[0];for(let e=1;e<s;e+=1)o[e]/=o[0]}const l=new Float32Array(32),u=new Float32Array(32),d=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),h=e.numberOfChannels;for(let t=0;t<h;t+=1){const n=e.getChannelData(t),r=d.getChannelData(t);l.fill(0),u.fill(0),Ee(o,i,a,s,c,l,u,0,32,n,r)}return d})(await o(e),u,a,i)))()}const e=await c;return h.buffer=e,h.start(0),h}return await r(l,u,f,d),f})(l,u,d)}}})(Yt,J,Ot,_t,yn),Cn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=r(e),c=o(s),l={...Ae,...i},u=t(s,c?null:e.baseLatency,l);super(e,!1,u,c?n(l.feedback,l.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw Oe();return t.call(e,n,r,o)})})(u),this._nativeIIRFilterNode=u,a(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(kt,(e=>(t,n,r)=>{if(void 0===t.createIIRFilter)return e(t,n,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return Ne(o,r),o})(gn),wn,xt,At,en),_n=((e,t,n,r,o)=>(a,i)=>{const s=i.listener,{forwardX:c,forwardY:l,forwardZ:u,positionX:d,positionY:h,positionZ:f,upX:p,upY:v,upZ:m}=void 0===s.forwardX?(()=>{const c=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),l=o(i),u=r(i,256,9,0),d=(t,r)=>{const o=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});return o.connect(c,0,t),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>r}),e({context:a},l,o.offset,D,k)};let h=[0,0,-1,0,1,0],f=[0,0,0];return u.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0],e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];t.some(((e,t)=>e!==h[t]))&&(s.setOrientation(...t),h=t);const n=[e.getChannelData(6)[0],e.getChannelData(7)[0],e.getChannelData(8)[0]];n.some(((e,t)=>e!==f[t]))&&(s.setPosition(...n),f=n)},c.connect(u),{forwardX:d(0,0),forwardY:d(1,0),forwardZ:d(2,-1),positionX:d(6,0),positionY:d(7,0),positionZ:d(8,0),upX:d(3,0),upY:d(4,1),upZ:d(5,0)}})():s;return{get forwardX(){return c},get forwardY(){return l},get forwardZ(){return u},get positionX(){return d},get positionY(){return h},get positionZ(){return f},get upX(){return p},get upY(){return v},get upZ(){return m}}})(Ht,on,ln,Xe,At),bn=new WeakMap,xn=((e,t,n,r,o,a)=>class extends n{constructor(n,a){super(n),this._nativeContext=n,l.set(this,n),r(n)&&o.set(n,new Set),this._destination=new e(this,a),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?a(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Qt,_n,St,At,bn,lt),Mn=((e,t,n,r,o,a)=>(i,s)=>{const c=i.createOscillator();return Ne(c,s),De(c,s,"detune"),De(c,s,"frequency"),void 0!==s.periodicWave?c.setPeriodicWave(s.periodicWave):Pe(c,s,"type"),t(n,(()=>n(i)))||Re(c),t(r,(()=>r(i)))||a(c,i),t(o,(()=>o(i)))||je(c),e(i,c),c})(zt,vt,rt,ot,at,ct),On=((e,t,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null,c=null;return{set periodicWave(e){i=e},set start(e){s=e},set stop(e){c=e},render(l,u,d){const h=a.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,d)=>{let h=n(l);const f=S(h,u);if(!f){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===i?void 0:i,type:h.type};h=t(u,e),null!==s&&h.start(s),null!==c&&h.stop(c)}return a.set(u,h),f?(await e(u,l.detune,h.detune,d),await e(u,l.frequency,h.frequency,d)):(await r(u,l.detune,h.detune,d),await r(u,l.frequency,h.frequency,d)),await o(l,u,h,d),h})(l,u,d)}}})(Xt,Mn,J,Zt,_t),An=((e,t,n,r,o,a,i)=>class extends e{constructor(e,i){const s=o(e),c={...Ue,...i},l=n(s,c),u=a(s),d=u?r():null,h=e.sampleRate/2;super(e,!1,l,d),this._detune=t(this,u,l.detune,153600,-153600),this._frequency=t(this,u,l.frequency,h,-h),this._nativeOscillatorNode=l,this._onended=null,this._oscillatorNodeRenderer=d,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?i(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){x(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),R(this)&&O(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(kt,Ht,Mn,On,xt,At,lt),En=(e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(Yt),Sn=((e,t,n,r,o)=>(a,{curve:i,oversample:s,...c})=>{const l=a.createWaveShaper(),u=a.createWaveShaper();Ne(l,c),Ne(u,c);const d=n(a,{...c,gain:1}),h=n(a,{...c,gain:-1}),f=n(a,{...c,gain:1}),p=n(a,{...c,gain:-1});let v=null,m=!1,g=null;const y={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(e){d.channelCount=e,h.channelCount=e,l.channelCount=e,f.channelCount=e,u.channelCount=e,p.channelCount=e},get channelCountMode(){return l.channelCountMode},set channelCountMode(e){d.channelCountMode=e,h.channelCountMode=e,l.channelCountMode=e,f.channelCountMode=e,u.channelCountMode=e,p.channelCountMode=e},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e,h.channelInterpretation=e,l.channelInterpretation=e,f.channelInterpretation=e,u.channelInterpretation=e,p.channelInterpretation=e},get context(){return l.context},get curve(){return g},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)l.curve=n,u.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),r=new Float32Array(e+2-e%2);t[0]=n[0],r[0]=-n[e-1];const o=Math.ceil((e+1)/2),a=(e+1)/2-1;for(let i=1;i<o;i+=1){const s=i/o*a,c=Math.floor(s),l=Math.ceil(s);t[i]=c===l?n[c]:(1-(s-c))*n[c]+(1-(l-s))*n[l],r[i]=c===l?-n[e-1-c]:-(1-(s-c))*n[e-1-c]-(1-(l-s))*n[e-1-l]}t[o]=e%2==1?n[o-1]:(n[o-2]+n[o-1])/2,l.curve=t,u.curve=r}g=n,m&&(r(g)&&null===v?v=e(a,d):null!==v&&(v(),v=null))},get inputs(){return[d]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(e){l.oversample=e,u.oversample=e},addEventListener:(...e)=>d.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>d.dispatchEvent(e[0]),removeEventListener:(...e)=>d.removeEventListener(e[0],e[1],e[2])};return null!==i&&(y.curve=i instanceof Float32Array?i:new Float32Array(i)),s!==y.oversample&&(y.oversample=s),o(We(y,f),(()=>{d.connect(l).connect(f),d.connect(h).connect(u).connect(p).connect(f),m=!0,r(g)&&(v=e(a,d))}),(()=>{d.disconnect(l),l.disconnect(f),d.disconnect(h),h.disconnect(u),u.disconnect(p),p.disconnect(f),m=!1,null!==v&&(v(),v=null)}))})(En,Me,Ge,et,nn),In=((e,t,n,r,o,a,i)=>(s,c)=>{const l=s.createWaveShaper();if(null!==a&&"webkitAudioContext"===a.name&&void 0===s.createGain().gain.automationRate)return n(s,c);Ne(l,c);const u=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==u&&u.length<2)throw t();Pe(l,{curve:u},"curve"),Pe(l,c,"oversample");let d=null,h=!1;return i(l,"curve",(e=>()=>e.call(l)),(t=>n=>(t.call(l,n),h&&(r(n)&&null===d?d=e(s,l):r(n)||null===d||(d(),d=null)),n))),o(l,(()=>{h=!0,r(l.curve)&&(d=e(s,l))}),(()=>{h=!1,null!==d&&(d(),d=null)}))})(En,Me,Sn,et,nn,It,tt),Tn=(br=((e,t,n,r,o,a,i,s,c)=>(l,{coneInnerAngle:u,coneOuterAngle:d,coneOuterGain:h,distanceModel:f,maxDistance:p,orientationX:v,orientationY:m,orientationZ:g,panningModel:y,positionX:w,positionY:C,positionZ:_,refDistance:b,rolloffFactor:x,...M})=>{const O=l.createPanner();if(M.channelCount>2)throw i();if("max"===M.channelCountMode)throw i();Ne(O,M);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(l,{...A,channelInterpretation:"speakers",numberOfInputs:6}),S=r(l,{...M,gain:1}),I=r(l,{...A,gain:1}),T=r(l,{...A,gain:0}),P=r(l,{...A,gain:0}),N=r(l,{...A,gain:0}),k=r(l,{...A,gain:0}),D=r(l,{...A,gain:0}),R=o(l,256,6,1),j=a(l,{...A,curve:new Float32Array([1,1]),oversample:"none"});let B=[v,m,g],F=[w,C,_];R.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0]];t.some(((e,t)=>e!==B[t]))&&(O.setOrientation(...t),B=t);const n=[e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];n.some(((e,t)=>e!==F[t]))&&(O.setPosition(...n),F=n)},Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0});const L={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(e){if(e>2)throw i();S.channelCount=e,O.channelCount=e},get channelCountMode(){return O.channelCountMode},set channelCountMode(e){if("max"===e)throw i();S.channelCountMode=e,O.channelCountMode=e},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(e){S.channelInterpretation=e,O.channelInterpretation=e},get coneInnerAngle(){return O.coneInnerAngle},set coneInnerAngle(e){O.coneInnerAngle=e},get coneOuterAngle(){return O.coneOuterAngle},set coneOuterAngle(e){O.coneOuterAngle=e},get coneOuterGain(){return O.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();O.coneOuterGain=e},get context(){return O.context},get distanceModel(){return O.distanceModel},set distanceModel(e){O.distanceModel=e},get inputs(){return[S]},get maxDistance(){return O.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;O.maxDistance=e},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return T.gain},get orientationZ(){return P.gain},get panningModel(){return O.panningModel},set panningModel(e){O.panningModel=e},get positionX(){return N.gain},get positionY(){return k.gain},get positionZ(){return D.gain},get refDistance(){return O.refDistance},set refDistance(e){if(e<0)throw new RangeError;O.refDistance=e},get rolloffFactor(){return O.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;O.rolloffFactor=e},addEventListener:(...e)=>S.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>S.dispatchEvent(e[0]),removeEventListener:(...e)=>S.removeEventListener(e[0],e[1],e[2])};return u!==L.coneInnerAngle&&(L.coneInnerAngle=u),d!==L.coneOuterAngle&&(L.coneOuterAngle=d),h!==L.coneOuterGain&&(L.coneOuterGain=h),f!==L.distanceModel&&(L.distanceModel=f),p!==L.maxDistance&&(L.maxDistance=p),v!==L.orientationX.value&&(L.orientationX.value=v),m!==L.orientationY.value&&(L.orientationY.value=m),g!==L.orientationZ.value&&(L.orientationZ.value=g),y!==L.panningModel&&(L.panningModel=y),w!==L.positionX.value&&(L.positionX.value=w),C!==L.positionY.value&&(L.positionY.value=C),_!==L.positionZ.value&&(L.positionZ.value=_),b!==L.refDistance&&(L.refDistance=b),x!==L.rolloffFactor&&(L.rolloffFactor=x),1===B[0]&&0===B[1]&&0===B[2]||O.setOrientation(...B),0===F[0]&&0===F[1]&&0===F[2]||O.setPosition(...F),c(We(L,O),(()=>{S.connect(O),e(S,j,0,0),j.connect(I).connect(E,0,0),j.connect(T).connect(E,0,1),j.connect(P).connect(E,0,2),j.connect(N).connect(E,0,3),j.connect(k).connect(E,0,4),j.connect(D).connect(E,0,5),E.connect(R).connect(l.destination)}),(()=>{S.disconnect(O),s(S,j,0,0),j.disconnect(I),I.disconnect(E),j.disconnect(T),T.disconnect(E),j.disconnect(P),P.disconnect(E),j.disconnect(N),N.disconnect(E),j.disconnect(k),k.disconnect(E),j.disconnect(D),D.disconnect(E),E.disconnect(R),R.disconnect(l.destination)}))})(U,Me,on,Ge,Xe,In,Ye,Q,nn),(e,t)=>{const n=e.createPanner();return void 0===n.orientationX?br(e,t):(Ne(n,t),De(n,t,"orientationX"),De(n,t,"orientationY"),De(n,t,"orientationZ"),De(n,t,"positionX"),De(n,t,"positionY"),De(n,t,"positionZ"),Pe(n,t,"coneInnerAngle"),Pe(n,t,"coneOuterAngle"),Pe(n,t,"coneOuterGain"),Pe(n,t,"distanceModel"),Pe(n,t,"maxDistance"),Pe(n,t,"panningModel"),Pe(n,t,"refDistance"),Pe(n,t,"rolloffFactor"),n)}),Pn=((e,t,n,r,o,a,i,s,c,l)=>()=>{const u=new WeakMap;let d=null;return{render(h,f,p){const v=u.get(f);return void 0!==v?Promise.resolve(v):(async(h,f,p)=>{let v=null,m=a(h);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},y={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},w=S(m,f);if("bufferSize"in m)v=r(f,{...g,gain:1});else if(!w){const e={...y,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=o(f,e)}if(u.set(f,null===v?m:v),null!==v){if(null===d){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new i(6,h.context.length,f.sampleRate),r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(e.destination),d=(async()=>{const t=await Promise.all([h.orientationX,h.orientationY,h.orientationZ,h.positionX,h.positionY,h.positionZ].map((async(t,r)=>{const o=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await s(e,t,o.offset,p),o})));for(let e=0;e<6;e+=1)t[e].connect(r,0,e),t[e].start(0);return l(e)})()}const e=await d,a=r(f,{...g,gain:1});await c(h,f,a,p);const u=[];for(let t=0;t<e.numberOfChannels;t+=1)u.push(e.getChannelData(t));let m=[u[0][0],u[1][0],u[2][0]],w=[u[3][0],u[4][0],u[5][0]],C=r(f,{...g,gain:1}),_=o(f,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:w[0],positionY:w[1],positionZ:w[2]});a.connect(C).connect(_.inputs[0]),_.connect(v);for(let t=128;t<e.length;t+=128){const e=[u[0][t],u[1][t],u[2][t]],n=[u[3][t],u[4][t],u[5][t]];if(e.some(((e,t)=>e!==m[t]))||n.some(((e,t)=>e!==w[t]))){m=e,w=n;const i=t/f.sampleRate;C.gain.setValueAtTime(0,i),C=r(f,{...g,gain:0}),_=o(f,{...y,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:w[0],positionY:w[1],positionZ:w[2]}),C.gain.setValueAtTime(1,i),a.connect(C).connect(_.inputs[0]),_.connect(v)}}return v}return w?(await e(f,h.orientationX,m.orientationX,p),await e(f,h.orientationY,m.orientationY,p),await e(f,h.orientationZ,m.orientationZ,p),await e(f,h.positionX,m.positionX,p),await e(f,h.positionY,m.positionY,p),await e(f,h.positionZ,m.positionZ,p)):(await s(f,h.orientationX,m.orientationX,p),await s(f,h.orientationY,m.orientationY,p),await s(f,h.orientationZ,m.orientationZ,p),await s(f,h.positionX,m.positionX,p),await s(f,h.positionY,m.positionY,p),await s(f,h.positionZ,m.positionZ,p)),Z(m)?await c(h,f,m.inputs[0],p):await c(h,f,m,p),m})(h,f,p)}}})(Xt,on,ln,Ge,Tn,J,Ot,Zt,_t,yn),Nn=((e,t,n,r,o,a,i)=>class extends e{constructor(e,s){const c=o(e),l={...He,...s},u=n(c,l),d=a(c);super(e,!1,u,d?r():null),this._nativePannerNode=u,this._orientationX=t(this,d,u.orientationX,D,k),this._orientationY=t(this,d,u.orientationY,D,k),this._orientationZ=t(this,d,u.orientationZ,D,k),this._positionX=t(this,d,u.positionX,D,k),this._positionY=t(this,d,u.positionY,D,k),this._positionZ=t(this,d,u.positionZ,D,k),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(kt,Ht,Tn,Pn,xt,At,en),kn=((e,t,n,r)=>class r{constructor(r,o){const a=t(r),i=(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})({...$e,...o}),s=e(a,i);return n.add(s),s}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===r.prototype||n.has(e)}})((e=>(t,{disableNormalization:n,imag:r,real:o})=>{const a=r instanceof Float32Array?r:new Float32Array(r),i=o instanceof Float32Array?o:new Float32Array(o),s=t.createPeriodicWave(i,a,{disableNormalization:n});if(Array.from(r).length<2)throw e();return s})(T),xt,new WeakSet),Dn=((e,t)=>(n,r)=>{const o=r.channelCountMode;if("clamped-max"===o)throw t();if(void 0===n.createStereoPanner)return e(n,r);const a=n.createStereoPanner();return Ne(a,r),De(a,r,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>o,set:e=>{if(e!==o)throw t()}}),a})(((e,t,n,r,o,a)=>{const i=16385,s=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...l,oversample:"none"},d=(e,a,d,h,f)=>{if(1===a)return((e,t,o,a)=>{const d=new Float32Array(i),h=new Float32Array(i);for(let e=0;e<i;e+=1){const t=e/16384*c;d[e]=Math.cos(t),h[e]=Math.sin(t)}const f=n(e,{...l,gain:0}),p=r(e,{...u,curve:d}),v=r(e,{...u,curve:s}),m=n(e,{...l,gain:0}),g=r(e,{...u,curve:h});return{connectGraph(){t.connect(f),t.connect(void 0===v.inputs?v:v.inputs[0]),t.connect(m),v.connect(o),o.connect(void 0===p.inputs?p:p.inputs[0]),o.connect(void 0===g.inputs?g:g.inputs[0]),p.connect(f.gain),g.connect(m.gain),f.connect(a,0,0),m.connect(a,0,1)},disconnectGraph(){t.disconnect(f),t.disconnect(void 0===v.inputs?v:v.inputs[0]),t.disconnect(m),v.disconnect(o),o.disconnect(void 0===p.inputs?p:p.inputs[0]),o.disconnect(void 0===g.inputs?g:g.inputs[0]),p.disconnect(f.gain),g.disconnect(m.gain),f.disconnect(a,0,0),m.disconnect(a,0,1)}}})(e,d,h,f);if(2===a)return((e,o,a,d)=>{const h=new Float32Array(i),f=new Float32Array(i),p=new Float32Array(i),v=new Float32Array(i),m=Math.floor(8192.5);for(let e=0;e<i;e+=1)if(e>m){const t=(e-m)/(16384-m)*c;h[e]=Math.cos(t),f[e]=Math.sin(t),p[e]=0,v[e]=1}else{const t=e/(16384-m)*c;h[e]=1,f[e]=0,p[e]=Math.cos(t),v[e]=Math.sin(t)}const g=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(e,{...l,gain:0}),w=r(e,{...u,curve:h}),C=n(e,{...l,gain:0}),_=r(e,{...u,curve:f}),b=r(e,{...u,curve:s}),x=n(e,{...l,gain:0}),M=r(e,{...u,curve:p}),O=n(e,{...l,gain:0}),A=r(e,{...u,curve:v});return{connectGraph(){o.connect(g),o.connect(void 0===b.inputs?b:b.inputs[0]),g.connect(y,0),g.connect(C,0),g.connect(x,1),g.connect(O,1),b.connect(a),a.connect(void 0===w.inputs?w:w.inputs[0]),a.connect(void 0===_.inputs?_:_.inputs[0]),a.connect(void 0===M.inputs?M:M.inputs[0]),a.connect(void 0===A.inputs?A:A.inputs[0]),w.connect(y.gain),_.connect(C.gain),M.connect(x.gain),A.connect(O.gain),y.connect(d,0,0),x.connect(d,0,0),C.connect(d,0,1),O.connect(d,0,1)},disconnectGraph(){o.disconnect(g),o.disconnect(void 0===b.inputs?b:b.inputs[0]),g.disconnect(y,0),g.disconnect(C,0),g.disconnect(x,1),g.disconnect(O,1),b.disconnect(a),a.disconnect(void 0===w.inputs?w:w.inputs[0]),a.disconnect(void 0===_.inputs?_:_.inputs[0]),a.disconnect(void 0===M.inputs?M:M.inputs[0]),a.disconnect(void 0===A.inputs?A:A.inputs[0]),w.disconnect(y.gain),_.disconnect(C.gain),M.disconnect(x.gain),A.disconnect(O.gain),y.disconnect(d,0,0),x.disconnect(d,0,0),C.disconnect(d,0,1),O.disconnect(d,0,1)}}})(e,d,h,f);throw o()};return(t,{channelCount:r,channelCountMode:i,pan:s,...c})=>{if("max"===i)throw o();const l=e(t,{...c,channelCount:1,channelCountMode:i,numberOfInputs:2}),u=n(t,{...c,channelCount:r,channelCountMode:i,gain:1}),h=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:s});let{connectGraph:f,disconnectGraph:p}=d(t,r,u,h,l);Object.defineProperty(h.gain,"defaultValue",{get:()=>0}),Object.defineProperty(h.gain,"maxValue",{get:()=>1}),Object.defineProperty(h.gain,"minValue",{get:()=>-1});const v={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount!==e&&(m&&p(),({connectGraph:f,disconnectGraph:p}=d(t,e,u,h,l)),m&&f()),u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw o();u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return h.gain},addEventListener:(...e)=>u.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>u.dispatchEvent(e[0]),removeEventListener:(...e)=>u.removeEventListener(e[0],e[1],e[2])};let m=!1;return a(We(v,l),(()=>{f(),m=!0}),(()=>{p(),m=!1}))}})(on,Le,Ge,In,Ye,nn),Ye),Rn=((e,t,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s,c){const l=a.get(s);return void 0!==l?Promise.resolve(l):(async(i,s,c)=>{let l=n(i);const u=S(l,s);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(s,e)}return a.set(s,l),u?await e(s,i.pan,l.pan,c):await r(s,i.pan,l.pan,c),Z(l)?await o(i,s,l.inputs[0],c):await o(i,s,l,c),l})(i,s,c)}}})(Xt,Dn,J,Zt,_t),jn=((e,t,n,r,o,a)=>class extends e{constructor(e,i){const s=o(e),c={...Ke,...i},l=n(s,c),u=a(s);super(e,!1,l,u?r():null),this._pan=t(this,u,l.pan)}get pan(){return this._pan}})(kt,Ht,Dn,Rn,xt,At),Bn=((e,t,n)=>()=>{const r=new WeakMap;return{render(o,a,i){const s=r.get(a);return void 0!==s?Promise.resolve(s):(async(o,a,i)=>{let s=t(o);if(!S(s,a)){const t={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=e(a,t)}return r.set(a,s),Z(s)?await n(o,a,s.inputs[0],i):await n(o,a,s,i),s})(o,a,i)}}})(In,J,_t),Fn=((e,t,n,r,o,a,i)=>class extends e{constructor(e,t){const s=o(e),c={...Je,...t},l=n(s,c);super(e,!0,l,a(s)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=l,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(kt,Me,In,Bn,xt,At,en),Ln=(e=>null!==e&&e.isSecureContext)(yt),Wn=(e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return r()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(yt),Vn=new WeakMap,Gn=((e,t)=>n=>{let r=e.get(n);if(void 0!==r)return r;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,8e3),e.set(n,r),r})(Vn,Ot),zn=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(yt),qn=Ln?((e,t,n,r,o,a,i,s,c,l,u,d)=>(f,p,v={credentials:"omit"})=>{const w=a(f);if(void 0!==w.audioWorklet)return Promise.all([o(p),Promise.resolve(e(u,u))]).then((([[e,t],n])=>{const[r,o]=m(e,t),a=n?o:o.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),c=new Blob([`${r};(registerProcessor=>{${a}\n})((n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(c);return w.audioWorklet.addModule(l,v).then((()=>{if(!s(w))return i(w).audioWorklet.addModule(l,v)})).finally((()=>URL.revokeObjectURL(l)))}));const C=l.get(f);if(void 0!==C&&C.has(p))return Promise.resolve();const _=c.get(f);if(void 0!==_){const e=_.get(p);if(void 0!==e)return e}const b=o(p).then((([e,t])=>{const[r,o]=m(e,t);return n(`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${o}\n})})(window,'_AWGS')`)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;r(w.currentTime,w.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const r=h.get(w);if(void 0!==r){if(r.has(e))throw t();y(n),g(n.parameterDescriptors),r.set(e,n)}else y(n),g(n.parameterDescriptors),h.set(w,new Map([[e,n]]))}),w.sampleRate,void 0,void 0)))}));return void 0===_?c.set(f,new Map([[p,b]])):_.set(p,b),b.then((()=>{const e=l.get(f);void 0===e?l.set(f,new Set([p])):e.add(p)})).finally((()=>{const e=c.get(f);void 0!==e&&e.delete(p)})),b})(vt,Ye,(e=>t=>new Promise(((n,r)=>{if(null===e)return void r(new SyntaxError);const o=e.document.head;if(null===o)r(new SyntaxError);else{const a=e.document.createElement("script"),i=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(i),c=e.onerror,l=()=>{e.onerror=c,URL.revokeObjectURL(s)};e.onerror=(t,n,o,a,i)=>n===s||n===e.location.href&&1===o&&1===a?(l(),r(i),!1):null!==c?c(t,n,o,a,i):void 0,a.onerror=()=>{l(),r(new SyntaxError)},a.onload=()=>{l(),n()},a.src=s,a.type="module",o.appendChild(a)}})))(yt),Wn,(async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw new DOMException("","AbortError")}),xt,Gn,At,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,8e3),o=URL.createObjectURL(n);let a=!1,i=!1;try{await r.audioWorklet.addModule(o);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();t.port.onmessage=()=>a=!0,t.onprocessorerror=()=>i=!0,n.connect(t),await r.startRendering()}catch{}finally{URL.revokeObjectURL(o)}return a&&!i})(zn,Ot),yt):void 0,Xn=((e,t)=>n=>e(n)||t(n))(Tt,At),Yn=((e,t,n,r,o,a,i,s,c,l,u)=>(n,r)=>{const d=i(n)?n:a(n);if(o.has(r)){const e=new DOMException("","DataCloneError");return Promise.reject(e)}try{o.add(r)}catch{}return t(c,(()=>c(d)))?d.decodeAudioData(r).then((n=>(t(s,(()=>s(n)))||u(n),e.add(n),n))):new Promise(((t,n)=>{const o=async()=>{try{await(e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((r=>{n.onmessage=()=>{t.close(),n.close(),r()},t.postMessage(e,[e])}))})(r)}catch{}},a=e=>{n(e),o()};try{d.decodeAudioData(r,(n=>{"function"!=typeof n.copyFromChannel&&(l(n),P(n)),e.add(n),o().then((()=>t(n)))}),(e=>{a(null===e?new DOMException("","EncodingError"):e)}))}catch(e){a(e)}}))})(jt,vt,0,0,new WeakSet,xt,Xn,I,Ie,Wt,Vt),Zn=((e,t,n,r,o,a,i,s,c,l,u,d,h,f,p,v,m,g,y,w)=>class extends p{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(e,t,r){return new n({length:t,numberOfChannels:e,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(e=6){return new a(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new i(this,{numberOfOutputs:e})}createConstantSource(){return new s(this)}createConvolver(){return new c(this)}createDelay(e=1){return new u(this,{maxDelayTime:e})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(e,t){return new f(this,{feedback:t,feedforward:e})}createOscillator(){return new v(this)}createPanner(){return new m(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new g(this,{...n,imag:t,real:e})}createStereoPanner(){return new y(this)}createWaveShaper(){return new w(this)}decodeAudioData(e,t,n){return l(this._nativeContext,e).then((e=>("function"==typeof t&&t(e),e))).catch((e=>{throw"function"==typeof n&&n(e),e}))}})(qn,Rt,Gt,Kt,tn,an,sn,un,hn,Yn,fn,vn,mn,Cn,xn,An,Nn,kn,jn,Fn),Un=((e,t,n,r)=>class extends e{constructor(e,t){const o=n(e),a=((e,t)=>e.createMediaElementSource(t.mediaElement))(o,t);if(r(o))throw TypeError();super(e,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(kt,0,xt,At),Hn=((e,t,n,r)=>class extends e{constructor(e,t){const o=n(e);if(r(o))throw new TypeError;const a=((e,t)=>{const n=e.createMediaStreamDestination();return Ne(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(o,{...Se,...t});super(e,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(kt,0,xt,At),$n=((e,t,n,r)=>class extends e{constructor(e,t){const o=n(e),a=((e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o})(o,t);if(r(o))throw new TypeError;super(e,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(kt,0,xt,At),Kn=((e,t,n)=>class extends e{constructor(e,r){const o=n(e);super(e,!0,t(o,r),null)}})(kt,((e,t)=>(n,{mediaStreamTrack:r})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),a=n.createMediaStreamSource(o);if("audio"!==r.kind)throw e();if(t(n))throw new TypeError;return a})(Me,At),xt),Qn=((e,t,n,r,o,a,i,s,c)=>class extends e{constructor(e={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");const t=new c(e);if(null===t)throw r();if(!V(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:o}=e,{sampleRate:a}=t;if(this._baseLatency="number"==typeof t.baseLatency?t.baseLatency:"balanced"===o?512/a:"interactive"===o||void 0===o?256/a:"playback"===o?1024/a:128*Math.max(2,Math.min(128,Math.round(o*a/128)))/a,this._nativeAudioContext=t,"webkitAudioContext"===c.name?(this._nativeGainNode=t.createGain(),this._nativeOscillatorNode=t.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(t.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),W(this)})))}createMediaElementSource(e){return new o(this,{mediaElement:e})}createMediaStreamDestination(){return new a(this)}createMediaStreamSource(e){return new i(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new s(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(Zn,Me,Ye,Qe,Un,Hn,$n,Kn,It),Jn=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(bn),er=(e=>(t,n)=>{e(t).add(n)})(Jn),tr=(e=>(t,n,r=0,o=0)=>{const a=t[r];if(void 0===a)throw e();return ae(n)?a.connect(n,0,o):a.connect(n,0)})(T),nr=(e=>(t,n)=>{e(t).delete(n)})(Jn),rr=(e=>(t,n,r,o=0)=>void 0===n?t.forEach((e=>e.disconnect())):"number"==typeof n?_e(e,t,n).disconnect():ae(n)?void 0===r?t.forEach((e=>e.disconnect(n))):void 0===o?_e(e,t,r).disconnect(n,0):_e(e,t,r).disconnect(n,0,o):void 0===r?t.forEach((e=>e.disconnect(n))):_e(e,t,r).disconnect(n,0))(T),or=new WeakMap,ar=((e,t)=>n=>t(e,n))(or,w),ir=((e,t,n,r,o,a,i,s,c,l,u,d,h)=>(p,v,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw c();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((e=>e<1)))throw c();if(y.length!==g.numberOfOutputs)throw t();if("explicit"!==g.channelCountMode)throw c();const w=g.channelCount*g.numberOfInputs,C=y.reduce(((e,t)=>e+t),0),_=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(w+_>6||C>6)throw c();const b=new MessageChannel,x=[],M=[];for(let e=0;e<g.numberOfInputs;e+=1)x.push(i(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),M.push(o(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const O=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:r}of m.parameterDescriptors){const o=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===e?0:e});Object.defineProperties(o.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?D:t},minValue:{get:()=>void 0===n?k:n}}),O.push(o)}const A=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,w+_)}),E=Be(v,p.sampleRate),S=s(p,E,w+_,Math.max(1,C)),I=o(p,{channelCount:Math.max(1,C),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,C)}),T=[];for(let e=0;e<g.numberOfOutputs;e+=1)T.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[e]}));for(let e=0;e<g.numberOfInputs;e+=1){x[e].connect(M[e]);for(let t=0;t<g.channelCount;t+=1)M[e].connect(A,t,e*g.channelCount+t)}const P=new le(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:e},t)=>{const n=O[t];return n.connect(A,0,w+t),n.start(0),[e,n.offset]})));A.connect(S);let N=g.channelInterpretation,R=null;const j=0===g.numberOfOutputs?[S]:T,B={get bufferSize(){return E},get channelCount(){return g.channelCount},set channelCount(e){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return N},set channelInterpretation(e){for(const t of x)t.channelInterpretation=e;N=e},get context(){return S.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(e){"function"==typeof R&&B.removeEventListener("processorerror",R),R="function"==typeof e?e:null,"function"==typeof R&&B.addEventListener("processorerror",R)},get parameters(){return P},get port(){return b.port2},addEventListener:(...e)=>S.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,j),disconnect:l.bind(null,j),dispatchEvent:(...e)=>S.dispatchEvent(e[0]),removeEventListener:(...e)=>S.removeEventListener(e[0],e[1],e[2])},F=new Map;var L,W;b.port1.addEventListener=(L=b.port1.addEventListener,(...e)=>{if("message"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=F.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{u(p.currentTime,p.sampleRate,(()=>t(e)))},F.set(t,e[1]))}}return L.call(b.port1,e[0],e[1],e[2])}),b.port1.removeEventListener=(W=b.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=F.get(e[1]);void 0!==t&&(F.delete(e[1]),e[1]=t)}return W.call(b.port1,e[0],e[1],e[2])});let V=null;Object.defineProperty(b.port1,"onmessage",{get:()=>V,set:e=>{"function"==typeof V&&b.port1.removeEventListener("message",V),V="function"==typeof e?e:null,"function"==typeof V&&(b.port1.addEventListener("message",V),b.port1.start())}}),m.prototype.port=b.port1;let G=null;((e,t,n,r)=>{let o=f.get(e);void 0===o&&(o=new WeakMap,f.set(e,o));const a=(async(e,t)=>new e(await(e=>new Promise(((t,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:e})=>{r.close(),o.close(),t(e)},r.onmessageerror=({data:e})=>{r.close(),o.close(),n(e)},o.postMessage(e)})))(t)))(n,r);return o.set(t,a),a})(p,B,m,g).then((e=>G=e));const z=fe(g.numberOfInputs,g.channelCount),q=fe(g.numberOfOutputs,y),X=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((e,{name:t})=>({...e,[t]:new Float32Array(128)})),{});let Y=!0;const Z=()=>{g.numberOfOutputs>0&&S.disconnect(I);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=T[e];for(let r=0;r<y[e];r+=1)I.disconnect(n,t+r,r);t+=y[e]}},U=new Map;S.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==G){const n=d(B);for(let r=0;r<E;r+=128){for(let t=0;t<g.numberOfInputs;t+=1)for(let n=0;n<g.channelCount;n+=1)de(e,z[t],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:t},n)=>{de(e,X,t,w+n,r)}));for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<y[e];t+=1)0===q[e][t].byteLength&&(q[e][t]=new Float32Array(128));try{const e=z.map(((e,t)=>{if(n[t].size>0)return U.set(t,E/128),e;const r=U.get(t);return void 0===r?[]:(e.every((e=>e.every((e=>0===e))))&&(1===r?U.delete(t):U.set(t,r-1)),e)})),o=u(p.currentTime+r/p.sampleRate,p.sampleRate,(()=>G.process(e,q,X)));Y=o;for(let e=0,n=0;e<g.numberOfOutputs;e+=1){for(let o=0;o<y[e];o+=1)he(t,q[e],o,n+o,r);n+=y[e]}}catch(e){Y=!1,B.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}))}if(!Y){for(let e=0;e<g.numberOfInputs;e+=1){x[e].disconnect(M[e]);for(let t=0;t<g.channelCount;t+=1)M[r].disconnect(A,t,e*g.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=O[t];e.disconnect(A,0,w+t),e.stop()}}A.disconnect(S),S.onaudioprocess=null,H?Z():Q();break}}}};let H=!1;const $=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),K=()=>S.connect($).connect(p.destination),Q=()=>{S.disconnect($),$.disconnect()};return K(),h(B,(()=>{if(Y){Q(),g.numberOfOutputs>0&&S.connect(I);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=T[e];for(let r=0;r<y[e];r+=1)I.connect(n,t+r,r);t+=y[e]}}H=!0}),(()=>{Y&&(K(),Z()),H=!1}))})(tr,T,Me,on,Le,ln,Ge,Xe,Ye,rr,Wn,ar,nn),sr=((e,t,n,r,o)=>(a,i,s,c,l,u)=>{if(null!==s)try{const t=new s(a,c,u),r=new Map;let i=null;if(Object.defineProperties(t,{channelCount:{get:()=>u.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>i,set:e=>{"function"==typeof i&&t.removeEventListener("processorerror",i),i="function"==typeof e?e:null,"function"==typeof i&&t.addEventListener("processorerror",i)}}}),t.addEventListener=(h=t.addEventListener,(...e)=>{if("processorerror"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=r.get(e[1]);void 0!==n?e[1]=n:(e[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),t(n)):t(new ErrorEvent(e[0],{...n}))},r.set(t,e[1]))}}return h.call(t,"error",e[1],e[2]),h.call(t,...e)}),t.removeEventListener=(d=t.removeEventListener,(...e)=>{if("processorerror"===e[0]){const t=r.get(e[1]);void 0!==t&&(r.delete(e[1]),e[1]=t)}return d.call(t,"error",e[1],e[2]),d.call(t,e[0],e[1],e[2])}),0!==u.numberOfOutputs){const e=n(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return t.connect(e).connect(a.destination),o(t,(()=>e.disconnect()),(()=>e.connect(a.destination)))}return t}catch(e){if(11===e.code)throw r();throw e}var d,h;if(void 0===l)throw r();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(u),t(a,i,l,u)})(Me,ir,Ge,Ye,nn),cr=((e,t,n,r,o,a,i,s,c,l,u,d,h,f,p,v)=>(m,g,y)=>{const w=new WeakMap;let C=null;return{render(_,b,x){s(b,_);const M=w.get(b);return void 0!==M?Promise.resolve(M):(async(s,_,b)=>{let x=u(s),M=null;const O=S(x,_),A=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(null===d){const e=A.reduce(((e,t)=>e+t),0),n=o(_,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),a=[];for(let e=0;e<s.numberOfOutputs;e+=1)a.push(r(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:A[e]}));const l=i(_,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});l.connect=t.bind(null,a),l.disconnect=c.bind(null,a),M=[n,a,l]}else O||(x=new d(_,m));if(w.set(_,null===M?x:M[2]),null!==M){if(null===C){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===h)throw new Error("Missing the native OfflineAudioContext constructor.");const e=s.channelCount*s.numberOfInputs,t=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=e+t,c=async()=>{const c=new h(n,128*Math.ceil(s.context.length/128),_.sampleRate),l=[],u=[];for(let e=0;e<g.numberOfInputs;e+=1)l.push(i(c,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),u.push(o(c,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const d=await Promise.all(Array.from(s.parameters.values()).map((async e=>{const t=a(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await f(c,e,t.offset,b),t}))),m=r(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<g.numberOfInputs;e+=1){l[e].connect(u[e]);for(let t=0;t<g.channelCount;t+=1)u[e].connect(m,t,e*g.channelCount+t)}for(const[t,n]of d.entries())n.connect(m,0,e+t),n.start(0);return m.connect(c.destination),await Promise.all(l.map((e=>p(s,c,e,b)))),v(c)};C=pe(s,0===n?null:await c(),_,g,A,y,l)}const e=await C,t=n(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,u,d]=M;null!==e&&(t.buffer=e,t.start(0)),t.connect(c);for(let e=0,t=0;e<s.numberOfOutputs;e+=1){const n=u[e];for(let r=0;r<A[e];r+=1)c.connect(n,t+r,r);t+=A[e]}return d}if(O)for(const[t,n]of s.parameters.entries())await e(_,n,x.parameters.get(t),b);else for(const[e,t]of s.parameters.entries())await f(_,t,x.parameters.get(e),b);return await p(s,_,x,b),x})(_,b,x)}}})(Xt,tr,Yt,on,Le,ln,Ge,nr,rr,Wn,J,zn,Ot,Zt,_t,yn),lr=(e=>t=>e.get(t))(Vn),ur=(e=>(t,n)=>{e.set(t,n)})(or),dr=Ln?((e,t,n,r,o,a,i,s,c,l,u,d,f)=>class extends t{constructor(t,u,f){var p;const v=s(t),m=c(v),g=(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))}))({...ue,...f}),y=h.get(v),w=null==y?void 0:y.get(u),C=m||"closed"!==v.state?v:null!==(p=i(v))&&void 0!==p?p:v,_=o(C,m?null:t.baseLatency,l,u,w,g);super(t,!0,_,m?r(u,g,w):null);const b=[];_.parameters.forEach(((e,t)=>{const r=n(this,m,e);b.push([t,r])})),this._nativeAudioWorkletNode=_,this._onprocessorerror=null,this._parameters=new le(b),m&&e(v,this);const{activeInputs:x}=a(this);d(_,x)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"==typeof e?f(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(er,kt,Ht,cr,sr,B,lr,xt,At,zn,0,ur,lt):void 0,hr=((e,t,n,r,o)=>class extends r{constructor(e={}){if(null===o)throw new Error("Missing the native AudioContext constructor.");const r=new o(e);if(null===r)throw n();if(!V(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&r.sampleRate!==e.sampleRate)throw t();super(r,2);const{latencyHint:a}=e,{sampleRate:i}=r;if(this._baseLatency="number"==typeof r.baseLatency?r.baseLatency:"balanced"===a?512/i:"interactive"===a||void 0===a?256/i:"playback"===a?1024/i:128*Math.max(2,Math.min(128,Math.round(a*i/128)))/i,this._nativeAudioContext=r,"webkitAudioContext"===o.name?(this._nativeGainNode=r.createGain(),this._nativeOscillatorNode=r.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(r.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===r.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),r.removeEventListener("statechange",e)};r.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),W(this)})))}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(Me,Ye,Qe,xn,It),fr=((e,t)=>(n,r,o)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,r,o)}catch(t){if("SyntaxError"===t.name)throw e();throw t}})(Ye,Ot),pr=((e,t,n,r,o,a,i,s)=>{const c=[];return(l,u)=>n(l).render(l,u,c).then((()=>Promise.all(Array.from(r(u)).map((e=>n(e).render(e,u,c)))))).then((()=>o(u))).then((n=>("function"!=typeof n.copyFromChannel?(i(n),P(n)):t(a,(()=>a(n)))||s(n),e.add(n),n)))})(jt,vt,Ct,Jn,yn,I,Wt,Vt),vr=((e,t,n,r,o)=>class extends r{constructor(t){const{length:r,numberOfChannels:o,sampleRate:a}={...Te,...t},i=n(o,r,a);e(Ie,(()=>Ie(i)))||i.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(i.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(i,o),this._length=r,this._nativeOfflineAudioContext=i,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(t()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,W(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(vt,Me,fr,xn,pr),mr=((e,t,n,r,o)=>class extends e{constructor(e,n,o){let a;if("number"==typeof e&&void 0!==n&&void 0!==o)a={length:n,numberOfChannels:e,sampleRate:o};else{if("object"!=typeof e)throw new Error("The given parameters are not valid.");a=e}const{length:i,numberOfChannels:s,sampleRate:c}={...Ze,...a},l=r(s,i,c);t(Ie,(()=>Ie(l)))||l.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(l.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(l,s),this._length=i,this._nativeOfflineAudioContext=l,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,W(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(Zn,vt,Me,fr,pr),gr=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(l,Tt),yr=((e,t)=>n=>e.has(n)||t(n))(i,Pt),wr=((e,t)=>n=>e.has(n)||t(n))(c,Nt),Cr=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(l,At),_r=()=>(async(e,t,n,r,o,a,i,s,c,l,u,d,h,f,p,v)=>!!(e(t,t)&&e(n,n)&&e(o,o)&&e(a,a)&&e(s,s)&&e(c,c)&&e(l,l)&&e(u,u)&&e(d,d)&&e(h,h)&&e(f,f))&&(await Promise.all([e(r,r),e(i,i),e(p,p),e(v,v)])).every((e=>e)))(vt,(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createBuffer(1,1,44100);if(void 0===t.copyToChannel)return!0;const n=new Float32Array(2);try{t.copyFromChannel(n,0,0)}catch{return!1}return!0})(Ot),(e=>()=>{if(null===e)return!1;if(void 0!==e.prototype&&void 0!==e.prototype.close)return!0;const t=new e,n=void 0!==t.close;try{t.close()}catch{}return n})(It),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);return new Promise((e=>{let n=!0;const r=r=>{n&&(n=!1,t.startRendering(),e(r instanceof TypeError))};let o;try{o=t.decodeAudioData(null,(()=>{}),r)}catch(e){r(e)}void 0!==o&&o.catch(r)}))})(Ot),(e=>()=>{if(null===e)return!1;let t;try{t=new e({latencyHint:"balanced"})}catch{return!1}return t.close(),!0})(It),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createGain(),n=t.connect(t)===t;return t.disconnect(t),n})(Ot),((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,8e3),o=URL.createObjectURL(n);let a=!1;try{await r.audioWorklet.addModule(o);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();t.port.onmessage=()=>a=!0,n.connect(t),n.start(0),await r.startRendering(),a||await new Promise((e=>setTimeout(e,5)))}catch{}finally{URL.revokeObjectURL(o)}return a})(zn,Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createChannelMerger();if("max"===t.channelCountMode)return!0;try{t.channelCount=2}catch{return!0}return!1})(Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100);return void 0===t.createConstantSource||t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100),n=t.createConvolver();n.buffer=t.createBuffer(1,1,t.sampleRate);try{n.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(Ot),it,(e=>()=>null!==e&&e.hasOwnProperty("isSecureContext"))(yt),(e=>()=>{if(null===e)return!1;const t=new e;try{return t.createMediaStreamSource(new MediaStream),!1}catch(e){return!0}})(It),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);if(void 0===t.createStereoPanner)return Promise.resolve(!0);if(void 0===t.createConstantSource)return Promise.resolve(!0);const n=t.createConstantSource(),r=t.createStereoPanner();return n.channelCount=1,n.offset.value=1,r.channelCount=1,n.start(),n.connect(r).connect(t.destination),t.startRendering().then((e=>1!==e.getChannelData(0)[0]))})(Ot),st);var br},8218:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Generator=void 0,function(e){e.BARS="bars",e.BARS_BLOCKS="bars blocks",e.BIG_BARS="big bars",e.CUBES="cubes",e.DUAL_BARS="dualbars",e.DUAL_BARS_BLOCKS="dualbars blocks",e.FIREWOKS="fireworks",e.FLOWER="flower",e.FLOWER_BLOCKS="flower blocks",e.ORBS="orbs",e.RING="ring",e.RINGS="rings",e.ROUND_WAVE="round wave",e.SHOCKWAVE="shockwave",e.SHINE="shine",e.SHINE_RINGS="shine rings",e.STAR="star",e.STATIC="static",e.STITCHES="stitches",e.WAVE="wave",e.WEB="web"}(n=t.Generator||(t.Generator={})),t.default=n},733:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e*Math.PI/180},a=function(e,t,n){var r=e[0],a=e[1],i=t[0],s=t[1],c=o(n);return[Math.cos(c)*(r-i)-Math.sin(c)*(a-s)+i,Math.sin(c)*(r-i)+Math.cos(c)*(a-s)+s]},i=function(e,t,n,r,o,a){var i=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),s=a?o/i:(i-o)/i;return[e+s*(n-e),t+s*(r-t)]},s=function(){function e(e){this.ctx=null,this.ctx=e}return e.prototype.mutateData=function(e,t,n){if(void 0===n&&(n=null),"mirror"===t){for(var o=[],a=0;a<e.length;a+=2)o.push(e[a]);return r(o,o.reverse())}if("shrink"===t){n<1&&(n=e.length*n),o=[];var i=Math.floor(e.length/n);for(a=1;a<=n;a++){var s=e.slice(a*i,a*i+i),c=s[Math.floor(s.length/2)];o.push(c)}return o}if("split"===t){var l=Math.floor(e.length/n),u=(o=[],[]),d=0;for(a=0;a<=l*n;a++)d===l&&(o.push(u),u=[],d=0),u.push(e[a]),d++;return o}if("scale"===t){var h=n/255;return n<=3&&n>=0&&(h=n),e.map((function(e){return e*h}))}if("organize"===t)return{base:e.slice(60,120),vocals:e.slice(120,255),mids:e.slice(255,2e3)};if("reverb"===t){var f=[];return e.forEach((function(t,n){f.push(t-(e[n+1]||0))})),f}if("amp"===t){var p=[];return e.forEach((function(e){p.push(e*(n+1))})),p}if("min"===t){var v=[];return e.forEach((function(e){e<n&&(e=n),v.push(e)})),v}},e.prototype.getPoints=function(e,t,r,i,s,c){var l=r[0],u=r[1],d=n({offset:0,rotate:0,customOrigin:[]},c),h=d.offset,f=d.rotate,p=d.customOrigin,v={start:[],end:[]};if("circle"===e){for(var m=o(360/i),g=t/2,y=1;y<=i;y++){var w=m*y,C=s[y-1],_=l+(g-(E=s[y-1]*(h/100)))*Math.cos(w),b=u+(g-E)*Math.sin(w),x=a([_,b],[l,u],f);v.start.push(x),_=l+(g-E+C)*Math.cos(w),b=u+(g-E+C)*Math.sin(w);var M=a([_,b],[l,u],f);v.end.push(M)}return v}if("line"===e){var O=t/i;for(l=p[0]||l,u=p[1]||u,y=0;y<=i;y++){var A=f,E=s[y]*(h/100),S=a([l+y*O,u-E],[l,u],A);v.start.push(S);var I=a([l+y*O,u+s[y]-E],[l,u],A);v.end.push(I)}return v}},e.prototype.drawCircle=function(e,t,r){var o=e[0],a=e[1],i=n({lineColor:this.ctx.strokeStyle},r),s=i.color,c=i.lineColor;this.ctx.beginPath(),this.ctx.arc(o,a,t/2,0,2*Math.PI),this.ctx.strokeStyle=c,this.ctx.stroke(),this.ctx.fillStyle=s,s&&this.ctx.fill()},e.prototype.drawSquare=function(e,t,n){var r=e[0],o=e[1];this.drawRectangle([r,o],t,t,n)},e.prototype.drawRectangle=function(e,t,r,o){var i=e[0],s=e[1],c=n({lineColor:this.ctx.strokeStyle,radius:0,rotate:0},o),l=c.color,u=c.lineColor,d=c.radius,h=c.rotate;this.ctx.beginPath(),this.ctx.moveTo(i+d,s);var f=a([i+r,s],[i,s],h),p=a([i+r,s+t],[i,s],h);this.ctx.arcTo(f[0],f[1],p[0],p[1],d);var v=a([i+r,s+t],[i,s],h),m=a([i,s+t],[i,s],h);this.ctx.arcTo(v[0],v[1],m[0],m[1],d);var g=a([i,s+t],[i,s],h),y=a([i,s],[i,s],h);this.ctx.arcTo(g[0],g[1],y[0],y[1],d);var w=a([i,s],[i,s],h),C=a([i+r,s],[i,s],h);this.ctx.arcTo(w[0],w[1],C[0],C[1],d),this.ctx.closePath(),this.ctx.strokeStyle=u,this.ctx.stroke(),this.ctx.fillStyle=l,l&&this.ctx.fill()},e.prototype.drawLine=function(e,t,r){var o=e[0],a=e[1],i=t[0],s=t[1],c=n({lineColor:this.ctx.strokeStyle},r).lineColor;this.ctx.beginPath(),this.ctx.moveTo(o,a),this.ctx.lineTo(i,s),this.ctx.strokeStyle=c,this.ctx.stroke()},e.prototype.drawPolygon=function(e,t){var r,o,a=n({lineColor:this.ctx.strokeStyle,radius:0,close:!1},t),s=a.color,c=a.lineColor,l=a.radius,u=a.close;l>0&&(e=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=o-1,s=o+1;a<0&&(a=n-1),s==n&&(s=0);var c=e[a],l=e[o],u=e[s],d=i(c[0],c[1],l[0],l[1],t,!1),h=i(l[0],l[1],u[0],u[1],t,!0);r[o]=[d[0],d[1],l[0],l[1],h[0],h[1]]}return r}(e,l));var d=e.length;for(r=0;r<d;r++)o=e[r],0==r?(this.ctx.beginPath(),this.ctx.moveTo(o[0],o[1])):this.ctx.lineTo(o[0],o[1]),l>0&&this.ctx.quadraticCurveTo(o[2],o[3],o[4],o[5]);u&&this.ctx.closePath(),this.ctx.strokeStyle=c,this.ctx.stroke(),this.ctx.fillStyle=s,s&&this.ctx.fill()},e}();t.default=s},5058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8513),o=n(5928),a=n(510),i=n(6332),s=n(2570),c=function(){function e(e,t,n,r){var o=this;this.element=e,this.canvasId=t,this.options=n,this.fromElementOptions=r,this.activated=!1,this.analyser=null,this.activeCanvas={},this.activeElements={},this.frameCount=1,this.currentCount=0,this.data=null,this.bufferLength=null,this.audioCtx=null,["touchstart","touchmove","touchend","mouseup","click"].forEach((function(e){document.body.removeEventListener(e,o.initialize)})),this.element.removeEventListener("play",this.initialize)}return e.prototype.isActivated=function(){return this.activated},e.prototype.activate=function(){this.activated=!0},e.prototype.deactivate=function(){this.activated=!1,o.clearCanvas(document.getElementById(this.canvasId)),!this.fromElementOptions.existingMediaStreamSource&&this.audioCtx&&this.audioCtx.close().then()},e.prototype.initializeAfterUserGesture=function(){var e=this;["touchstart","touchmove","touchend","mouseup","click"].forEach((function(t){document.body.addEventListener(t,e.initialize.bind(e),{once:!0})})),this.element.addEventListener("play",this.initialize.bind(this),{once:!0})},e.prototype.initialize=function(){this.activate(),this.activeCanvas[this.canvasId]=JSON.stringify(this.options);var e=this.element.id;o.setPropertyIfNotSet(this.activeElements,e,{}),this.activeElements[e]=this.activeElements[e]||{},this.activeElements[e].count?this.activeElements[e].count+=1:this.activeElements[e].count=1;var t=this.options,n=t.setGlobal,a=t.getGlobal;this.currentCount=this.activeElements[e].count;var i=a(e,"source");if(!i||i.mediaElement!==this.element){var s=n(e,"audioCtx",new r.AudioContext);this.audioCtx=s,i=this.fromElementOptions.existingMediaStreamSource||s.createMediaElementSource(this.element)}this.analyser=n(e,"analyser",i.context.createAnalyser()),n(e,"source",i);var c=i.context.createOscillator();c.frequency.value=1,c.connect(i.context.destination),c.start(0),c.stop(0),this.fromElementOptions.connectDestination&&this.connectSource(i,i.context.destination),this.connectSource(i,this.analyser),this.analyser.fftsize=32768,this.bufferLength=this.analyser.frequencyBinCount,this.data=new Uint8Array(this.bufferLength),this.renderFrame()},e.prototype.renderFrame=function(){if(this.isActivated()){var e=this.element.id;if(JSON.stringify(this.options)===this.activeCanvas[this.canvasId]){if(!document.getElementById(e))throw new i.default(e);if(!document.getElementById(this.canvasId))throw new s.default(this.canvasId);requestAnimationFrame(this.renderFrame.bind(this)),this.frameCount++,this.currentCount<this.activeElements[e].count||(this.analyser.getByteFrequencyData(this.data),this.activeElements[e].data=this.data),a.default(this.activeElements[e].data,this.canvasId,this.options,this.frameCount)}}},e.prototype.connectSource=function(e,t){e.connect(t)},e}();t.default=c},510:function(e,t,n){"use strict";var r,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(8218),i=n(5928),s=n(8919),c=n(1265),l=n(2570),u=((r={})[a.default.BARS]=s.drawBars,r[a.default.BARS_BLOCKS]=s.drawBarsBlocks,r[a.default.BIG_BARS]=s.drawBigBars,r[a.default.CUBES]=s.drawCubes,r[a.default.DUAL_BARS]=s.drawDualBars,r[a.default.DUAL_BARS_BLOCKS]=s.drawDualBarsBlocks,r[a.default.FIREWOKS]=s.drawFireworks,r[a.default.FLOWER]=s.drawFlower,r[a.default.FLOWER_BLOCKS]=s.drawFlowerBlocks,r[a.default.ORBS]=s.drawOrbs,r[a.default.RING]=s.drawRing,r[a.default.RINGS]=s.drawRings,r[a.default.ROUND_WAVE]=s.drawRoundWave,r[a.default.SHOCKWAVE]=s.drawShockWave,r[a.default.SHINE]=s.drawShine,r[a.default.SHINE_RINGS]=s.drawShineRings,r[a.default.STAR]=s.drawStar,r[a.default.STATIC]=s.drawStatic,r[a.default.STITCHES]=s.drawStitches,r[a.default.WAVE]=s.drawWave,r[a.default.WEB]=s.drawWeb,r),d={};t.default=function(e,t,n,r){var a=o(o({},c.default),n||{}),s="string"==typeof t?document.getElementById(t.toString()):t;if(!s)throw new l.default(t.toString());var h=s.id,f=s.getContext("2d"),p=s.height,v=s.width;f.strokeStyle=a.colors[0],f.lineWidth=Number(a.stroke.toString());var m={data:e,options:a,ctx:f,h:p,w:v,canvasId:h},g=Array.isArray(a.type)?a.type:[a.type];i.setPropertyIfNotSet(d,g[0].toString(),1),r%d[g[0].toString()]==0&&(f.clearRect(0,0,v,p),f.beginPath(),g.forEach((function(e){u[e.toString()](m)})))}},2570:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this,r=' Could not find the canvas with id "'+t+'"';return(n=e.call(this,r)||this).name="CanvasNotFoundError",n}return r(t,e),t}(Error);t.default=o},6332:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this,r=' Could not find the element with id "'+t+'"';return(n=e.call(this,r)||this).name="ElementNotFoundError",n}return r(t,e),t}(Error);t.default=o},8057:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(8218),i=function(e){function t(t){var n=this,r='The required generator "'+t+'" does not exist, please use one of the following:\n\n'+Object.keys(a.default).map((function(e){return'- "'+a.default[e]+'"'})).join("\n");return(n=e.call(this,r)||this).name="InvalidGeneratorError",n}return o(t,e),t}(Error);t.default=i},8624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/255,i=e.w/64,s=0;s<64;s++){var c=t[s];c*=a;var l=i*s;r.rect(l,o,i,-c)}r.fillStyle=n.colors[1]||n.colors[0],r.stroke(),r.fill()}},329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/255,i=e.w/64,s=Math.floor(64/n.colors.length),c=1;c<=64;c++){var l=t[c]*a,u=i*c;r.moveTo(u,o),r.lineTo(u,o-l),c%s==0&&(r.strokeStyle=n.colors[c/s-1],r.stroke(),r.beginPath())}}},3826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.options,n=e.ctx,o=e.h,a=e.w,i=e.data,s=t.colors,c=new r.default(n);i=c.mutateData(i,"organize").vocals,i=c.mutateData(i,"shrink",10),i=c.mutateData(i,"scale",o),i=c.mutateData(i,"amp",1);var l=c.getPoints("line",a,[0,o/2],i.length,i,{offset:50}),u=0,d=Math.ceil(i.length/s.length);l.start.forEach((function(e,t){(t+1)%d==0&&u++,c.drawRectangle(e,i[t],a/i.length,{color:s[u]})}))}},9736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.options,n=e.ctx,o=e.h,a=e.w,i=e.data,s=t.colors,c=new r.default(n);i=c.mutateData(i,"organize").base,i=c.mutateData(i,"shrink",20).slice(0,19),i=c.mutateData(i,"scale",o);var l=c.getPoints("line",a,[0,o],i.length,i),u=a/20-5,d=0;l.start.forEach((function(e,t){for(var n=Math.ceil(i[t]/u),r=(o-o/u*5)/u,a=Math.ceil(r/s.length),l=1;l<=n;l++){var h=[e[0],e[1]-u*l-5*l];c.drawSquare(h,u,{color:s[d],lineColor:"black"}),l%a==0&&++d>=s.length&&(d=s.length-1)}d=0}))}},7717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/255,i=e.w/50,s=0;s<=50;s++){var c=t[s];c*=a;var l=i*s;r.rect(l,o/2+c/2,i,-c)}n.colors[1]&&(r.fillStyle=n.colors[1],r.fill()),r.stroke()}},6064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/255,i=e.w/128,s=Math.floor(128/n.colors.length),c=1;c<=128;c++){var l=t[c];l+=5;var u=i*c,d=o/2+(l*=a)/2;if(r.moveTo(u,d),r.lineTo(u,d-l),c%s==0){var h=c/s-1;r.strokeStyle=n.colors[h],r.stroke(),r.beginPath()}}}},1046:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.options,n=e.ctx,o=e.h,a=e.w,i=t.colors,s=new r.default(n),c=e.data;c=s.mutateData(c,"shrink",200).slice(0,120),c=s.mutateData(c,"mirror"),c=s.mutateData(c,"scale",o/4+o/4*.35);var l=s.getPoints("circle",o/2,[a/2,o/2],c.length,c,{offset:35,rotate:270});l.start.forEach((function(e,t){s.drawLine(e,l.end[t])})),s.drawPolygon(l.start,{close:!0}),l.end.forEach((function(e){s.drawCircle(e,.01*o,{color:i[0]})}))}},2756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/4,i=e.w/2,s=o/2,c=a/255,l=360/56*Math.PI/180,u=1;u<=56;u++){var d=t[u]*c,h=u*l,f=i+(a-d/2)*Math.cos(h),p=s+(a-d/2)*Math.sin(h);r.moveTo(f,p);var v=i+(a+d)*Math.cos(h),m=s+(a+d)*Math.sin(h);r.lineTo(v,m);var g=i+(a+d)*Math.cos(h+l),y=s+(a+d)*Math.sin(h+l);r.lineTo(g,y);var w=i+(a-d/2)*Math.cos(h+l),C=s+(a-d/2)*Math.sin(h+l);r.lineTo(w,C),r.lineTo(f,p)}n.colors[1]&&(r.fillStyle=n.colors[1],r.fill()),r.stroke()}},9938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/4,i=a/2,s=e.w/2,c=o/2,l=(a-i)/255,u=2.8125*Math.PI/180,d=Math.floor(128/n.colors.length),h=1;h<=128;h++){var f=(t[h]+5)*l,p=h*u,v=s+(a-(f-i))*Math.cos(p),m=c+(a-(f-i))*Math.sin(p);r.moveTo(v,m);var g=s+(a+f)*Math.cos(p),y=c+(a+f)*Math.sin(p);if(r.lineTo(g,y),h%d==0){var w=h/d-1;r.strokeStyle=n.colors[w],r.stroke(),r.beginPath()}}r.stroke()}},7750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.options,n=e.ctx,o=e.h,a=e.w,i=e.data,s=t.colors,c=new r.default(n);i=c.mutateData(i,"organize").mids,i=c.mutateData(i,"split",2)[0],i=c.mutateData(i,"shrink",100),i=c.mutateData(i,"mirror"),i=c.mutateData(i,"scale",o),i=c.mutateData(i,"amp",.75);var l=c.getPoints("line",a,[0,o/2],i.length,i,{offset:50});l.start.forEach((function(e,t){c.drawLine(e,l.end[t],{lineColor:s[0]}),c.drawCircle(e,.01*o,{color:s[1]||s[0]}),c.drawCircle(l.end[t],.01*o,{color:s[1]||s[0]})}))}},4503:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.data,n=e.options,r=e.ctx,o=e.h,a=e.w/2,i=o/2,s=(o-10)/2,c=(s-s/5)/255,l=2.4*Math.PI/180;r.arc(a,i,s,0,2*Math.PI,!0);var u=a+(s-t[0]*c)*Math.cos(0),d=i+(s-t[0]*c)*Math.sin(0);r.moveTo(u,d);for(var h=0,f=0;f<150;f++){h+=1,f>=75&&(h-=2);var p=t[h],v=f*l,m=a+(s-(p*=c))*Math.cos(v),g=i+(s-p)*Math.sin(v);r.lineTo(m,g),r.arc(m,g,2,0,2*Math.PI)}r.lineTo(u,d),r.stroke(),r.fillStyle=n.colors[1]||"#fff000",r.fill()}},8198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.options,n=e.ctx,o=e.h,a=e.w,i=e.data,s=o<a?o:a,c=new r.default(n),l=t.colors;(i=[(i=c.mutateData(i,"organize")).mids,i.vocals])[0]=c.mutateData(i[0],"scale",s/4),i[1]=c.mutateData(i[1],"scale",s/8),i[0]=c.mutateData(i[0],"shrink",.2),i[0]=c.mutateData(i[0],"split",2)[0],i[0]=c.mutateData(i[0],"reverb"),i[1]=c.mutateData(i[1],"reverb");var u=c.getPoints("circle",s/2,[a/2,o/2],i[0].length,i[0]),d=c.getPoints("circle",s/4,[a/2,o/2],i[1].length,i[1]);c.drawPolygon(u.end,{close:!0,radius:4,lineColor:l[0],color:l[1]}),c.drawPolygon(d.end,{close:!0,radius:4,lineColor:l[2],color:l[3]});var h=(s/4+s/2)/2,f=i[1]=c.mutateData(i[1],"scale",s/4-s/2),p=c.getPoints("circle",h,[a/2,o/2],i[1].length,f);p.start.forEach((function(e,t){c.drawLine(e,p.end[t],{lineColor:l[4]||l[2]})}))}},5993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/4,i=e.w/2,s=o/2,c=a/255,l=3.6*Math.PI/180,u=i+(a+0)*Math.cos(0),d=s+(a+0)*Math.sin(0);r.moveTo(u,d);for(var h=1;h<=100;h++){var f=t[350%h]*c,p=h*l,v=i+(a+f)*Math.cos(p),m=s+(a+f)*Math.sin(p);r.lineTo(v,m)}r.closePath(),r.stroke(),n.colors[1]&&(r.fillStyle=n.colors[1],r.fill())}},1411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.options,n=e.ctx,o=e.h,a=e.w,i=e.data,s=t.colors,c=new r.default(n),l=o<a?o:a;(i=c.mutateData(i,"organize")).vocals=c.mutateData(i.vocals,"scale",l/2/2),i.base=c.mutateData(i.base,"scale",l/2/2);var u=c.getPoints("circle",l/2,[a/2,o/2],i.vocals.length,i.vocals),d=c.getPoints("circle",l/2,[a/2,o/2],i.vocals.length,i.vocals,{offset:100}),h=c.getPoints("circle",l/2,[a/2,o/2],i.base.length,i.base,{offset:100});u.start.forEach((function(e,t){c.drawLine(e,u.end[t],{lineColor:s[0]})})),c.drawPolygon(d.start,{close:!0,lineColor:s[1],color:s[3],radius:5}),c.drawPolygon(h.start,{close:!0,lineColor:s[2],color:s[4],radius:5})}},9329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options,r=e.ctx,o=e.h,a=o/4,i=e.w/2,s=o/2,c=a/255,l=360/56*Math.PI/180,u=1;u<=56;u++){var d=t[u]*c,h=u*l,f=i+(a-d/2)*Math.cos(h),p=s+(a-d/2)*Math.sin(h);r.moveTo(f,p);var v=i+(a+d)*Math.cos(h),m=s+(a+d)*Math.sin(h);r.lineTo(v,m);var g=i+(a+d)*Math.cos(h+l),y=s+(a+d)*Math.sin(h+l);r.lineTo(g,y);var w=i+(a-d/2)*Math.cos(h+l),C=s+(a-d/2)*Math.sin(h+l);r.lineTo(w,C),r.lineTo(f,p)}n.colors[1]&&(r.fillStyle=n.colors[1],r.fill()),r.stroke()}},5240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.options,n=e.ctx,o=e.h,a=e.w,i=e.data,s=t.colors,c=new r.default(n);i=c.mutateData(i,"shrink",300),i=c.mutateData(i,"scale",o/2),i=c.mutateData(i,"split",4).slice(0,3);var l=0;i.forEach((function(e){var t=c.getPoints("line",a,[0,o/2],e.length,e);c.drawPolygon(t.end,{lineColor:s[l],radius:.015*o});var n=c.getPoints("line",a,[0,o/2],e.length,e,{offset:100});c.drawPolygon(n.start,{lineColor:s[l],radius:.015*o}),l++}))}},7281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,n=e.options.colors,r=e.ctx,o=e.h,a=o/4,i=a/4,s=e.w/2,c=o/2,l=(a-i-35)/255,u=3*Math.PI/180,d=[],h=[],f=1;f<=120;f++){var p=t[200%f]*l,v=f*u,m=s+(a-p+i)*Math.cos(v),g=c+(a-p+i)*Math.sin(v);r.moveTo(m,g),h.push({x:m,y:g});var y=s+(a+p+i)*Math.cos(v),w=c+(a+p+i)*Math.sin(v);r.lineTo(y,w),d.push({x:y,y:w})}for(var C in r.moveTo(d[0].x,d[0].y),d)C=d[C],r.lineTo(C.x,C.y);r.closePath(),r.moveTo(h[0].x,h[0].y);for(var _=h.length-1;_>=0;_--)_=h[_],r.lineTo(_.x,_.y);for(var _ in r.closePath(),n[1]&&(r.fillStyle=n[1],r.fill()),r.stroke(),r.beginPath(),r.moveTo(h[0].x,h[0].y),h)_=h[_],r.lineTo(_.x,_.y);r.closePath(),n[2]&&(r.fillStyle=n[2],r.fill()),r.stroke()}},6271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.ctx,n=e.h,o=e.w,a=e.data,i=new r.default(t);a=i.mutateData(a,"shrink",1/8),a=i.mutateData(a,"split",2)[0],a=i.mutateData(a,"scale",n);var s=i.getPoints("line",o,[0,n/2],a.length,a,{offset:50}),c=null;s.start.forEach((function(e,t){c&&i.drawLine(c,e),i.drawLine(e,s.end[t]),c=s.end[t]}))}},1176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.ctx,n=e.h,o=e.w,a=e.data,i=new r.default(t),s=n<o?n:o;a=i.mutateData(a,"shrink",200),a=i.mutateData(a,"split",2)[0],a=i.mutateData(a,"scale",n/2);var c=i.getPoints("circle",s/2,[o/2,n/2],a.length,a,{offset:50});i.drawPolygon(c.end,{close:!0}),i.drawPolygon(c.start,{close:!0});for(var l=0;l<c.start.length;l+=1){var u=c.start[l];l++;var d=c.end[l]||c.end[0];i.drawLine(u,d),i.drawLine(d,c.start[l+1]||c.start[0])}}},1173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.ctx,n=e.h,o=e.w,a=e.options,i=e.data,s=new r.default(t);i=s.mutateData(i,"split",4)[0],i=s.mutateData(i,"scale",n);var c=s.getPoints("line",o,[0,n],i.length,i,{offset:100});c.start=c.start.slice(0,c.end.length-1),c.start.push([o,n]),c.start.push([0,n]),s.drawPolygon(c.start,{lineColor:a[0],color:a[1],radius:.008*n})}},3120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733);t.default=function(e){var t=e.ctx,n=e.h,o=e.w,a=e.options,i=e.data,s=new r.default(t),c=n<o?n:o;i=s.mutateData(i,"shrink",100),i=s.mutateData(i,"split",2)[0];var l=i=s.mutateData(i,"scale",n/4),u=s.getPoints("circle",c/2,[o/2,n/2],i.length,i);s.drawPolygon(u.end,{close:!0}),u.start.forEach((function(e,t){s.drawLine(e,u.end[t])})),i=s.mutateData(i,"scale",.7),u=s.getPoints("circle",c/2,[o/2,n/2],i.length,i),s.drawPolygon(u.end,{close:!0}),i=s.mutateData(i,"scale",.3),u=s.getPoints("circle",c/2,[o/2,n/2],i.length,i),s.drawPolygon(u.end,{close:!0}),s.drawCircle([o/2,n/2],c/2,{color:a[2]}),l=s.mutateData(l,"scale",1.4),(u=s.getPoints("circle",c/2,[o/2,n/2],l.length,l)).end.forEach((function(e){s.drawCircle(e,.01*c,{color:a[1],lineColor:a[1]||a[0]})}))}},8919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawWeb=t.drawWave=t.drawStitches=t.drawStatic=t.drawStar=t.drawShockWave=t.drawShine=t.drawRoundWave=t.drawRings=t.drawRing=t.drawOrbs=t.drawFlowerBlocks=t.drawFlower=t.drawFireworks=t.drawShineRings=t.drawDualBarsBlocks=t.drawDualBars=t.drawCubes=t.drawBigBars=t.drawBarsBlocks=t.drawBars=void 0;var r=n(329);t.drawBars=r.default;var o=n(8624);t.drawBarsBlocks=o.default;var a=n(3826);t.drawBigBars=a.default;var i=n(9736);t.drawCubes=i.default;var s=n(6064);t.drawDualBars=s.default;var c=n(7717);t.drawDualBarsBlocks=c.default;var l=n(1411);t.drawShineRings=l.default;var u=n(1046);t.drawFireworks=u.default;var d=n(9938);t.drawFlower=d.default;var h=n(2756);t.drawFlowerBlocks=h.default;var f=n(7750);t.drawOrbs=f.default;var p=n(4503);t.drawRing=p.default;var v=n(8198);t.drawRings=v.default;var m=n(5993);t.drawRoundWave=m.default;var g=n(9329);t.drawShine=g.default;var y=n(5240);t.drawShockWave=y.default;var w=n(7281);t.drawStar=w.default;var C=n(6271);t.drawStatic=C.default;var _=n(1176);t.drawStitches=_.default;var b=n(1173);t.drawWave=b.default;var x=n(3120);t.drawWeb=x.default},2005:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5058),a=n(1265),i=n(5928),s=n(6332),c=n(2570);t.default=function(e,t,n,l){var u="string"==typeof e?document.getElementById(e):e;if(!u)throw new s.default("string"==typeof e?e:"");var d="string"==typeof t?document.getElementById(t):t;if(!u)throw new c.default("string"==typeof t?t:"");u.crossOrigin="anonymous";var h=r(r({},a.default),n||{});i.checkGenerator(h.type);var f=r({connectDestination:!0,skipUserEventsWatcher:!1,existingMediaStreamSource:null},l||{}),p=new o.default(u,d.id,h,f);return p.isActivated()||f.skipUserEventsWatcher?p.initialize():p.initializeAfterUserGesture(),{deactivate:function(){p.deactivate()}}}},979:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8513),a=n(1265),i=n(510),s=n(5928);t.default=function(e,t,n){var c=r(r({},a.default),t||{}),l=r({width:window.innerWidth,height:window.innerHeight,format:"png",drawRate:20,callback:function(){return null}},n),u=l.callback,d=l.width,h=l.height,f=l.format,p=l.drawRate;s.checkGenerator(c.type);var v="image/"+f,m=function(e,t){var n=document.createElement("canvas");return n.height=t,n.width=e,n}(d,h),g=new Audio(e),y=new o.AudioContext,w=y.createAnalyser(),C=y.createMediaElementSource(g);w.fftSize=Math.pow(2,10);var _=w.frequencyBinCount,b=new Uint8Array(_),x=null;C.connect(w),g.addEventListener("loadedmetadata",(function(){return g.play().then()}));var M=function(){var e=1;x=setInterval((function(){w.getByteFrequencyData(b),i.default(b,m,c,e++),u(m.toDataURL(v))}),p)},O=function(){g.currentTime===g.duration&&void 0!==b&&clearInterval(x)};return g.addEventListener("play",M),g.addEventListener("ended",O),{deactivate:function(){g.removeEventListener("play",M),g.removeEventListener("ended",O),clearInterval(x),y.close().then(),s.clearCanvas(m),u(m.toDataURL(v))}}}},8557:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8513),a=n(1265),i=n(510),s=n(5928),c=function(e,t,n,r,o){e.activated&&(t.getByteFrequencyData(e.data),i.default(e.data,e.canvasId,e.options,o),n[r.toString()].animation=requestAnimationFrame(e.loop))},l=["touchstart","touchmove","touchend","mouseup","click"],u=!1;t.default=function(e,t,n,i){var d=this,h=r(r({},a.default),n||{}),f=r({connectDestination:!0,skipUserEventsWatcher:!1},i||{});s.checkGenerator(h.type);var p,v=f.connectDestination,m=f.skipUserEventsWatcher,g={canvasId:t,options:h,data:null,loop:null,animation:null,activated:!0},y=s.initGlobalObject("stream-sources",h.globalAccessKey),w=function(){var t,n;y[e.toString()]?(cancelAnimationFrame(y[e.toString()].animation),t=y[e.toString()].analyser):(p=new o.AudioContext,(t=p.createAnalyser()).minDecibels=-90,t.maxDecibels=-10,t.smoothingTimeConstant=.85,(n=p.createMediaStreamSource(e)).connect(t),v&&t.connect(n.destination),y[e.toString()]={audioCtx:p,analyser:t,source:n}),t.fftsize=32768;var r=t.frequencyBinCount;g.data=new Uint8Array(r),d.frameCount=1,g.loop=function(){return c(g,t,y,e,++d.frameCount)},c(g,t,y,e,1)};return u||!m?function(e){l.forEach((function(t){document.body.addEventListener(t,(function(){u=!0,e()}),{once:!0})}))}((function(){return w()})):w(),{deactivate:function(){s.clearCanvas(document.getElementById(g.canvasId)),p&&p.close().then(),g.activated=!1}}}},1265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5928),o={stroke:1,colors:["#d92027","#ff9234","#ffcd3c","#35d0ba"],type:n(8218).default.BARS,globalAccessKey:"$wave",getGlobal:function(e,t){var n=o.globalAccessKey;return r.initGlobalObject(e,n),window[n][e][t]},setGlobal:function(e,t,n){var a=o.globalAccessKey,i=o.getGlobal(e,t);return i||(r.setPropertyIfNotSet(window[a][e],t,n),i=window[a][e][t]),i}};t.default=o},5928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearCanvas=t.checkGenerator=t.setPropertyIfNotSet=t.initGlobalObject=void 0;var r=n(8721),o=n(7361),a=n(6968),i=n(8218),s=n(8057);t.initGlobalObject=function(e,n){var r=n+"."+e;return t.setPropertyIfNotSet(window,r,{}),o(window,r)},t.setPropertyIfNotSet=function(e,t,n){r(e,t)||a(e,t,n)},t.checkGenerator=function(e){(Array.isArray(e)?e:[e]).forEach((function(e){if(!Object.keys(i.default).map((function(e){return i.default[e]})).includes(e))throw new s.default(e)}))},t.clearCanvas=function(e){e&&e.getContext("2d").clearRect(0,0,e.width,e.height)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";var e=r,t=n(2005),o=n(979),a=n(8557);e.default={fromElement:t.default,fromFile:o.default,fromStream:a.default}})(),r.default})()}));