!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WaveJS=e():t.WaveJS=e()}(this,(function(){return(()=>{var t={7391:()=>{!function(){"use strict";var t=window.AudioContext=window.AudioContext||window.webkitAudioContext,e=t.prototype;Object.defineProperties(e,{createGain:{value:e.createGain||e.createGainNode},createDelay:{value:e.createDelay||e.createDelayNode},createScriptProcessor:{value:e.createScriptProcessor||e.createJavaScriptNode}});var r=new t,a=r.createOscillator().constructor.prototype,o=r.createBufferSource().constructor.prototype,n=r.createGain().gain.constructor.prototype;Object.defineProperties(a,{setPeriodicWave:{value:a.setPeriodicWave||a.setWaveTable},start:{value:a.start||a.noteOn},stop:{value:a.stop||a.noteOff}}),Object.defineProperties(o,{start:{value:o.start||function(){return arguments.length>1?o.noteGrainOn.apply(this,arguments):o.noteOn.apply(this,arguments)}},stop:{value:o.stop||o.noteOff}}),Object.defineProperties(n,{setTargetAtTime:{value:n.setTargetAtTime||n.setTargetValueAtTime}})}()},1989:(t,e,r)=>{var a=r(1789),o=r(401),n=r(7667),i=r(1327),s=r(1866);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=n,c.prototype.has=i,c.prototype.set=s,t.exports=c},8407:(t,e,r)=>{var a=r(7040),o=r(4125),n=r(2117),i=r(7518),s=r(4705);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=n,c.prototype.has=i,c.prototype.set=s,t.exports=c},7071:(t,e,r)=>{var a=r(852)(r(5639),"Map");t.exports=a},3369:(t,e,r)=>{var a=r(4785),o=r(1285),n=r(6e3),i=r(9916),s=r(5265);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=n,c.prototype.has=i,c.prototype.set=s,t.exports=c},2705:(t,e,r)=>{var a=r(5639).Symbol;t.exports=a},9932:t=>{t.exports=function(t,e){for(var r=-1,a=null==t?0:t.length,o=Array(a);++r<a;)o[r]=e(t[r],r,t);return o}},4865:(t,e,r)=>{var a=r(9465),o=r(7813),n=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var i=t[e];n.call(t,e)&&o(i,r)&&(void 0!==r||e in t)||a(t,e,r)}},8470:(t,e,r)=>{var a=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(a(t[r][0],e))return r;return-1}},9465:(t,e,r)=>{var a=r(8777);t.exports=function(t,e,r){"__proto__"==e&&a?a(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},7786:(t,e,r)=>{var a=r(1811),o=r(327);t.exports=function(t,e){for(var r=0,n=(e=a(e,t)).length;null!=t&&r<n;)t=t[o(e[r++])];return r&&r==n?t:void 0}},4239:(t,e,r)=>{var a=r(2705),o=r(9607),n=r(2333),i=a?a.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):n(t)}},8565:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,r){return null!=t&&e.call(t,r)}},9454:(t,e,r)=>{var a=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==a(t)}},8458:(t,e,r)=>{var a=r(3560),o=r(5346),n=r(3218),i=r(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,f=l.hasOwnProperty,d=RegExp("^"+u.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!n(t)||o(t))&&(a(t)?d:s).test(i(t))}},611:(t,e,r)=>{var a=r(4865),o=r(1811),n=r(5776),i=r(3218),s=r(327);t.exports=function(t,e,r,c){if(!i(t))return t;for(var l=-1,u=(e=o(e,t)).length,f=u-1,d=t;null!=d&&++l<u;){var h=s(e[l]),v=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(l!=f){var p=d[h];void 0===(v=c?c(p,h,d):void 0)&&(v=i(p)?p:n(e[l+1])?[]:{})}a(d,h,v),d=d[h]}return t}},531:(t,e,r)=>{var a=r(2705),o=r(9932),n=r(1469),i=r(3448),s=a?a.prototype:void 0,c=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(n(e))return o(e,t)+"";if(i(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},1811:(t,e,r)=>{var a=r(1469),o=r(5403),n=r(5514),i=r(9833);t.exports=function(t,e){return a(t)?t:o(t,e)?[t]:n(i(t))}},4429:(t,e,r)=>{var a=r(5639)["__core-js_shared__"];t.exports=a},8777:(t,e,r)=>{var a=r(852),o=function(){try{var t=a(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},1957:(t,e,r)=>{var a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=a},5050:(t,e,r)=>{var a=r(7019);t.exports=function(t,e){var r=t.__data__;return a(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:(t,e,r)=>{var a=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return a(r)?r:void 0}},9607:(t,e,r)=>{var a=r(2705),o=Object.prototype,n=o.hasOwnProperty,i=o.toString,s=a?a.toStringTag:void 0;t.exports=function(t){var e=n.call(t,s),r=t[s];try{t[s]=void 0;var a=!0}catch(t){}var o=i.call(t);return a&&(e?t[s]=r:delete t[s]),o}},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,r)=>{var a=r(1811),o=r(5694),n=r(1469),i=r(5776),s=r(1780),c=r(327);t.exports=function(t,e,r){for(var l=-1,u=(e=a(e,t)).length,f=!1;++l<u;){var d=c(e[l]);if(!(f=null!=t&&r(t,d)))break;t=t[d]}return f||++l!=u?f:!!(u=null==t?0:t.length)&&s(u)&&i(d,u)&&(n(t)||o(t))}},1789:(t,e,r)=>{var a=r(4536);t.exports=function(){this.__data__=a?a(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var a=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(a){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var a=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return a?void 0!==e[t]:o.call(e,t)}},1866:(t,e,r)=>{var a=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=a&&void 0===e?"__lodash_hash_undefined__":e,this}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var a=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&e.test(t))&&t>-1&&t%1==0&&t<r}},5403:(t,e,r)=>{var a=r(1469),o=r(3448),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,e){if(a(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||i.test(t)||!n.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var a,o=r(4429),n=(a=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";t.exports=function(t){return!!n&&n in t}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var a=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=a(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var a=r(8470);t.exports=function(t){var e=this.__data__,r=a(e,t);return r<0?void 0:e[r][1]}},7518:(t,e,r)=>{var a=r(8470);t.exports=function(t){return a(this.__data__,t)>-1}},4705:(t,e,r)=>{var a=r(8470);t.exports=function(t,e){var r=this.__data__,o=a(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:(t,e,r)=>{var a=r(1989),o=r(8407),n=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new a,map:new(n||o),string:new a}}},1285:(t,e,r)=>{var a=r(5050);t.exports=function(t){var e=a(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var a=r(5050);t.exports=function(t){return a(this,t).get(t)}},9916:(t,e,r)=>{var a=r(5050);t.exports=function(t){return a(this,t).has(t)}},5265:(t,e,r)=>{var a=r(5050);t.exports=function(t,e){var r=a(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},4523:(t,e,r)=>{var a=r(8306);t.exports=function(t){var e=a(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},4536:(t,e,r)=>{var a=r(852)(Object,"create");t.exports=a},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5639:(t,e,r)=>{var a=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,n=a||o||Function("return this")();t.exports=n},5514:(t,e,r)=>{var a=r(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=a((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,a,o){e.push(a?o.replace(n,"$1"):r||t)})),e}));t.exports=i},327:(t,e,r)=>{var a=r(3448);t.exports=function(t){if("string"==typeof t||a(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},7361:(t,e,r)=>{var a=r(7786);t.exports=function(t,e,r){var o=null==t?void 0:a(t,e);return void 0===o?r:o}},8721:(t,e,r)=>{var a=r(8565),o=r(222);t.exports=function(t,e){return null!=t&&o(t,e,a)}},5694:(t,e,r)=>{var a=r(9454),o=r(7005),n=Object.prototype,i=n.hasOwnProperty,s=n.propertyIsEnumerable,c=a(function(){return arguments}())?a:function(t){return o(t)&&i.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},3560:(t,e,r)=>{var a=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=a(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3448:(t,e,r)=>{var a=r(4239),o=r(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==a(t)}},8306:(t,e,r)=>{var a=r(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var a=arguments,o=e?e.apply(this,a):a[0],n=r.cache;if(n.has(o))return n.get(o);var i=t.apply(this,a);return r.cache=n.set(o,i)||n,i};return r.cache=new(o.Cache||a),r}o.Cache=a,t.exports=o},6968:(t,e,r)=>{var a=r(611);t.exports=function(t,e,r){return null==t?t:a(t,e,r)}},9833:(t,e,r)=>{var a=r(531);t.exports=function(t){return null==t?"":a(t)}},8218:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Generator=void 0,function(t){t.BARS="bars",t.BARS_BLOCKS="bars blocks",t.BIG_BARS="big bars",t.CUBES="cubes",t.DUAL_BARS="dualbars",t.DUAL_BARS_BLOCKS="dualbars blocks",t.FIREWOKS="fireworks",t.FLOWER="flower",t.FLOWER_BLOCKS="flower blocks",t.ORBS="orbs",t.RING="ring",t.RINGS="rings",t.ROUND_WAVE="round wave",t.SHOCKWAVE="shockwave",t.SHINE="shine",t.SHINE_RINGS="shine rings",t.STAR="star",t.STATIC="static",t.STITCHES="stitches",t.WAVE="wave",t.WEB="web"}(r=e.Generator||(e.Generator={})),e.default=r},733:function(t,e){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},a=this&&this.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var a,o=0,n=e.length;o<n;o++)!a&&o in e||(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t*Math.PI/180},n=function(t,e,r){var a=t[0],n=t[1],i=e[0],s=e[1],c=o(r);return[Math.cos(c)*(a-i)-Math.sin(c)*(n-s)+i,Math.sin(c)*(a-i)+Math.cos(c)*(n-s)+s]},i=function(t,e,r,a,o,n){var i=Math.sqrt(Math.pow(r-t,2)+Math.pow(a-e,2)),s=n?o/i:(i-o)/i;return[t+s*(r-t),e+s*(a-e)]},s=function(){function t(t){this.ctx=null,this.ctx=t}return t.prototype.mutateData=function(t,e,r){if(void 0===r&&(r=null),"mirror"===e){for(var o=[],n=0;n<t.length;n+=2)o.push(t[n]);return a(a([],o,!0),o.reverse(),!0)}if("shrink"===e){r<1&&(r=t.length*r),o=[];var i=Math.floor(t.length/r);for(n=1;n<=r;n++){var s=t.slice(n*i,n*i+i),c=s[Math.floor(s.length/2)];o.push(c)}return o}if("split"===e){var l=Math.floor(t.length/r),u=(o=[],[]),f=0;for(n=0;n<=l*r;n++)f===l&&(o.push(u),u=[],f=0),u.push(t[n]),f++;return o}if("scale"===e){var d=r/255;return r<=3&&r>=0&&(d=r),t.map((function(t){return t*d}))}if("organize"===e)return{base:t.slice(60,120),vocals:t.slice(120,255),mids:t.slice(255,2e3)};if("reverb"===e){var h=[];return t.forEach((function(e,r){h.push(e-(t[r+1]||0))})),h}if("amp"===e){var v=[];return t.forEach((function(t){v.push(t*(r+1))})),v}if("min"===e){var p=[];return t.forEach((function(t){t<r&&(t=r),p.push(t)})),p}},t.prototype.getPoints=function(t,e,a,i,s,c){var l=a[0],u=a[1],f=r({offset:0,rotate:0,customOrigin:[]},c),d=f.offset,h=f.rotate,v=f.customOrigin,p={start:[],end:[]};if("circle"===t){for(var y=o(360/i),w=e/2,g=1;g<=i;g++){var _=y*g,b=s[g-1],m=l+(w-(j=s[g-1]*(d/100)))*Math.cos(_),x=u+(w-j)*Math.sin(_),O=n([m,x],[l,u],h);p.start.push(O),m=l+(w-j+b)*Math.cos(_),x=u+(w-j+b)*Math.sin(_);var S=n([m,x],[l,u],h);p.end.push(S)}return p}if("line"===t){var P=e/i;for(l=v[0]||l,u=v[1]||u,g=0;g<=i;g++){var M=h,j=s[g]*(d/100),E=n([l+g*P,u-j],[l,u],M);p.start.push(E);var C=n([l+g*P,u+s[g]-j],[l,u],M);p.end.push(C)}return p}},t.prototype.drawCircle=function(t,e,a){var o=t[0],n=t[1],i=r({lineColor:this.ctx.strokeStyle},a),s=i.color,c=i.lineColor;this.ctx.beginPath(),this.ctx.arc(o,n,e/2,0,2*Math.PI),this.ctx.strokeStyle=c,this.ctx.stroke(),this.ctx.fillStyle=s,s&&this.ctx.fill()},t.prototype.drawSquare=function(t,e,r){var a=t[0],o=t[1];this.drawRectangle([a,o],e,e,r)},t.prototype.drawRectangle=function(t,e,a,o){var i=t[0],s=t[1],c=r({lineColor:this.ctx.strokeStyle,radius:0,rotate:0},o),l=c.color,u=c.lineColor,f=c.radius,d=c.rotate;this.ctx.beginPath(),this.ctx.moveTo(i+f,s);var h=n([i+a,s],[i,s],d),v=n([i+a,s+e],[i,s],d);this.ctx.arcTo(h[0],h[1],v[0],v[1],f);var p=n([i+a,s+e],[i,s],d),y=n([i,s+e],[i,s],d);this.ctx.arcTo(p[0],p[1],y[0],y[1],f);var w=n([i,s+e],[i,s],d),g=n([i,s],[i,s],d);this.ctx.arcTo(w[0],w[1],g[0],g[1],f);var _=n([i,s],[i,s],d),b=n([i+a,s],[i,s],d);this.ctx.arcTo(_[0],_[1],b[0],b[1],f),this.ctx.closePath(),this.ctx.strokeStyle=u,this.ctx.stroke(),this.ctx.fillStyle=l,l&&this.ctx.fill()},t.prototype.drawLine=function(t,e,a){var o=t[0],n=t[1],i=e[0],s=e[1],c=r({lineColor:this.ctx.strokeStyle},a).lineColor;this.ctx.beginPath(),this.ctx.moveTo(o,n),this.ctx.lineTo(i,s),this.ctx.strokeStyle=c,this.ctx.stroke()},t.prototype.drawPolygon=function(t,e){var a,o,n=r({lineColor:this.ctx.strokeStyle,radius:0,close:!1},e),s=n.color,c=n.lineColor,l=n.radius,u=n.close;l>0&&(t=function(t,e){for(var r=t.length,a=new Array(r),o=0;o<r;o++){var n=o-1,s=o+1;n<0&&(n=r-1),s==r&&(s=0);var c=t[n],l=t[o],u=t[s],f=i(c[0],c[1],l[0],l[1],e,!1),d=i(l[0],l[1],u[0],u[1],e,!0);a[o]=[f[0],f[1],l[0],l[1],d[0],d[1]]}return a}(t,l));var f=t.length;for(a=0;a<f;a++)o=t[a],0==a?(this.ctx.beginPath(),this.ctx.moveTo(o[0],o[1])):this.ctx.lineTo(o[0],o[1]),l>0&&this.ctx.quadraticCurveTo(o[2],o[3],o[4],o[5]);u&&this.ctx.closePath(),this.ctx.strokeStyle=c,this.ctx.stroke(),this.ctx.fillStyle=s,s&&this.ctx.fill()},t}();e.default=s},5058:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(5928),o=r(510),n=r(6332),i=r(2570),s=function(){function t(t,e,r,a){this.element=t,this.canvasId=e,this.options=r,this.fromElementOptions=a,this.activated=!1,this.analyser=null,this.activeCanvas={},this.activeElements={},this.frameCount=1,this.currentCount=0,this.data=null,this.bufferLength=null,this.audioCtx=null,this.unbindUserInteractEventsListeners(!0)}return t.prototype.bindUserInteractEventsListeners=function(t){var e=this;void 0===t&&(t=!1),["touchend","mouseup","click"].forEach((function(t){document.body.addEventListener(t,e.initialize.bind(e),{once:!0})})),t&&this.element.addEventListener("play",this.initialize.bind(this),{once:!0})},t.prototype.unbindUserInteractEventsListeners=function(t){var e=this;void 0===t&&(t=!1),["touchend","mouseup","click"].forEach((function(t){document.body.removeEventListener(t,e.initialize)})),t&&this.element.removeEventListener("play",this.initialize)},t.prototype.isActivated=function(){return this.activated},t.prototype.activate=function(){this.activated=!0},t.prototype.deactivate=function(){this.activated=!1,(0,a.clearCanvas)(document.getElementById(this.canvasId)),this.unbindUserInteractEventsListeners();var t=(0,this.options.getGlobal)(this.element.id,"source"),e=this.fromElementOptions.connectDestination;t&&e&&t.disconnect(),!this.fromElementOptions.existingMediaStreamSource&&this.audioCtx&&this.audioCtx.close().then()},t.prototype.initializeAfterUserGesture=function(){this.bindUserInteractEventsListeners(!0)},t.prototype.initialize=function(){var t;if(!this.activated){this.activate(),this.activeCanvas[this.canvasId]=JSON.stringify(this.options);var e=this.element.id;(0,a.setPropertyIfNotSet)(this.activeElements,e,{}),this.activeElements[e]=this.activeElements[e]||{},this.activeElements[e].count?this.activeElements[e].count+=1:this.activeElements[e].count=1;var r=this.options,o=r.setGlobal,n=r.getGlobal;this.currentCount=this.activeElements[e].count;var i=n(e,"source");if(!i||i.mediaElement!==this.element||"closed"===(null===(t=this.audioCtx)||void 0===t?void 0:t.state)){var s=o(e,"audioCtx",new AudioContext);this.audioCtx=s,i=this.fromElementOptions.existingMediaStreamSource||s.createMediaElementSource(this.element)}this.analyser=o(e,"analyser",i.context.createAnalyser()),o(e,"source",i);var c=i.context.createOscillator();c.frequency.value=1,c.connect(i.context.destination),c.start(0),c.stop(0),this.fromElementOptions.connectDestination&&this.connectSource(i,i.context.destination),this.connectSource(i,this.analyser),this.analyser.fftsize=32768,this.bufferLength=this.analyser.frequencyBinCount,this.data=new Uint8Array(this.bufferLength),this.renderFrame()}},t.prototype.renderFrame=function(){if(this.isActivated()){var t=this.element.id;if(JSON.stringify(this.options)===this.activeCanvas[this.canvasId]){if(!document.getElementById(t))throw new n.default(t);if(!document.getElementById(this.canvasId))throw new i.default(this.canvasId);requestAnimationFrame(this.renderFrame.bind(this)),this.frameCount++,this.currentCount<this.activeElements[t].count||(this.analyser.getByteFrequencyData(this.data),this.activeElements[t].data=this.data),(0,o.default)(this.activeElements[t].data,this.canvasId,this.options,this.frameCount)}}},t.prototype.connectSource=function(t,e){t.connect(e)},t}();e.default=s},510:function(t,e,r){"use strict";var a,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=r(8218),i=r(5928),s=r(8919),c=r(1265),l=r(2570),u=((a={})[n.default.BARS]=s.drawBars,a[n.default.BARS_BLOCKS]=s.drawBarsBlocks,a[n.default.BIG_BARS]=s.drawBigBars,a[n.default.CUBES]=s.drawCubes,a[n.default.DUAL_BARS]=s.drawDualBars,a[n.default.DUAL_BARS_BLOCKS]=s.drawDualBarsBlocks,a[n.default.FIREWOKS]=s.drawFireworks,a[n.default.FLOWER]=s.drawFlower,a[n.default.FLOWER_BLOCKS]=s.drawFlowerBlocks,a[n.default.ORBS]=s.drawOrbs,a[n.default.RING]=s.drawRing,a[n.default.RINGS]=s.drawRings,a[n.default.ROUND_WAVE]=s.drawRoundWave,a[n.default.SHOCKWAVE]=s.drawShockWave,a[n.default.SHINE]=s.drawShine,a[n.default.SHINE_RINGS]=s.drawShineRings,a[n.default.STAR]=s.drawStar,a[n.default.STATIC]=s.drawStatic,a[n.default.STITCHES]=s.drawStitches,a[n.default.WAVE]=s.drawWave,a[n.default.WEB]=s.drawWeb,a),f={};e.default=function(t,e,r,a){var n=o(o({},c.default),r||{}),s="string"==typeof e?document.getElementById(e.toString()):e;if(!s)throw new l.default(e.toString());var d=s.id,h=s.getContext("2d"),v=s.height,p=s.width;h.strokeStyle=n.colors[0],h.lineWidth=Number(n.stroke.toString());var y={data:t,options:n,ctx:h,h:v,w:p,canvasId:d},w=Array.isArray(n.type)?n.type:[n.type];(0,i.setPropertyIfNotSet)(f,w[0].toString(),1),a%f[w[0].toString()]==0&&(h.clearRect(0,0,p,v),h.beginPath(),w.forEach((function(t){u[t.toString()](y)})))}},2570:function(t,e){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=this,a=' Could not find the canvas with id "'+e+'"';return(r=t.call(this,a)||this).name="CanvasNotFoundError",r}return a(e,t),e}(Error);e.default=o},6332:function(t,e){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var r=this,a=' Could not find the element with id "'+e+'"';return(r=t.call(this,a)||this).name="ElementNotFoundError",r}return a(e,t),e}(Error);e.default=o},8057:function(t,e,r){"use strict";var a,o=this&&this.__extends||(a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},a(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n=r(8218),i=function(t){function e(e){var r=this,a='The required generator "'+e+'" does not exist, please use one of the following:\n\n'+Object.keys(n.default).map((function(t){return'- "'+n.default[t]+'"'})).join("\n");return(r=t.call(this,a)||this).name="InvalidGeneratorError",r}return o(e,t),e}(Error);e.default=i},8624:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/255,i=t.w/64,s=0;s<64;s++){var c=e[s];c*=n;var l=i*s;a.rect(l,o,i,-c)}a.fillStyle=r.colors[1]||r.colors[0],a.stroke(),a.fill()}},329:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/255,i=t.w/64,s=Math.floor(64/r.colors.length),c=1;c<=64;c++){var l=e[c]*n,u=i*c;a.moveTo(u,o),a.lineTo(u,o-l),c%s==0&&(a.strokeStyle=r.colors[c/s-1],a.stroke(),a.beginPath())}}},3826:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.options,r=t.ctx,o=t.h,n=t.w,i=t.data,s=e.colors,c=new a.default(r);i=c.mutateData(i,"organize").vocals,i=c.mutateData(i,"shrink",10),i=c.mutateData(i,"scale",o),i=c.mutateData(i,"amp",1);var l=c.getPoints("line",n,[0,o/2],i.length,i,{offset:50}),u=0,f=Math.ceil(i.length/s.length);l.start.forEach((function(t,e){(e+1)%f==0&&u++,c.drawRectangle(t,i[e],n/i.length,{color:s[u]})}))}},9736:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.options,r=t.ctx,o=t.h,n=t.w,i=t.data,s=e.colors,c=new a.default(r);i=c.mutateData(i,"organize").base,i=c.mutateData(i,"shrink",20).slice(0,19),i=c.mutateData(i,"scale",o);var l=c.getPoints("line",n,[0,o],i.length,i),u=n/20-5,f=0;l.start.forEach((function(t,e){for(var r=Math.ceil(i[e]/u),a=(o-o/u*5)/u,n=Math.ceil(a/s.length),l=1;l<=r;l++){var d=[t[0],t[1]-u*l-5*l];c.drawSquare(d,u,{color:s[f],lineColor:"black"}),l%n==0&&++f>=s.length&&(f=s.length-1)}f=0}))}},7717:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/255,i=t.w/50,s=0;s<=50;s++){var c=e[s];c*=n;var l=i*s;a.rect(l,o/2+c/2,i,-c)}r.colors[1]&&(a.fillStyle=r.colors[1],a.fill()),a.stroke()}},6064:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/255,i=t.w/128,s=Math.floor(128/r.colors.length),c=1;c<=128;c++){var l=e[c];l+=5;var u=i*c,f=o/2+(l*=n)/2;if(a.moveTo(u,f),a.lineTo(u,f-l),c%s==0){var d=c/s-1;a.strokeStyle=r.colors[d],a.stroke(),a.beginPath()}}}},1046:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.options,r=t.ctx,o=t.h,n=t.w,i=e.colors,s=new a.default(r),c=t.data;c=s.mutateData(c,"shrink",200).slice(0,120),c=s.mutateData(c,"mirror"),c=s.mutateData(c,"scale",o/4+o/4*.35);var l=s.getPoints("circle",o/2,[n/2,o/2],c.length,c,{offset:35,rotate:270});l.start.forEach((function(t,e){s.drawLine(t,l.end[e])})),s.drawPolygon(l.start,{close:!0}),l.end.forEach((function(t){s.drawCircle(t,.01*o,{color:i[0]})}))}},2756:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/4,i=t.w/2,s=o/2,c=n/255,l=360/56*Math.PI/180,u=1;u<=56;u++){var f=e[u]*c,d=u*l,h=i+(n-f/2)*Math.cos(d),v=s+(n-f/2)*Math.sin(d);a.moveTo(h,v);var p=i+(n+f)*Math.cos(d),y=s+(n+f)*Math.sin(d);a.lineTo(p,y);var w=i+(n+f)*Math.cos(d+l),g=s+(n+f)*Math.sin(d+l);a.lineTo(w,g);var _=i+(n-f/2)*Math.cos(d+l),b=s+(n-f/2)*Math.sin(d+l);a.lineTo(_,b),a.lineTo(h,v)}r.colors[1]&&(a.fillStyle=r.colors[1],a.fill()),a.stroke()}},9938:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/4,i=n/2,s=t.w/2,c=o/2,l=(n-i)/255,u=2.8125*Math.PI/180,f=Math.floor(128/r.colors.length),d=1;d<=128;d++){var h=(e[d]+5)*l,v=d*u,p=s+(n-(h-i))*Math.cos(v),y=c+(n-(h-i))*Math.sin(v);a.moveTo(p,y);var w=s+(n+h)*Math.cos(v),g=c+(n+h)*Math.sin(v);if(a.lineTo(w,g),d%f==0){var _=d/f-1;a.strokeStyle=r.colors[_],a.stroke(),a.beginPath()}}a.stroke()}},7750:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.options,r=t.ctx,o=t.h,n=t.w,i=t.data,s=e.colors,c=new a.default(r);i=c.mutateData(i,"organize").mids,i=c.mutateData(i,"split",2)[0],i=c.mutateData(i,"shrink",100),i=c.mutateData(i,"mirror"),i=c.mutateData(i,"scale",o),i=c.mutateData(i,"amp",.75);var l=c.getPoints("line",n,[0,o/2],i.length,i,{offset:50});l.start.forEach((function(t,e){c.drawLine(t,l.end[e],{lineColor:s[0]}),c.drawCircle(t,.01*o,{color:s[1]||s[0]}),c.drawCircle(l.end[e],.01*o,{color:s[1]||s[0]})}))}},4503:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.data,r=t.options,a=t.ctx,o=t.h,n=t.w/2,i=o/2,s=(o-10)/2,c=(s-s/5)/255,l=2.4*Math.PI/180;a.arc(n,i,s,0,2*Math.PI,!0);var u=n+(s-e[0]*c)*Math.cos(0),f=i+(s-e[0]*c)*Math.sin(0);a.moveTo(u,f);for(var d=0,h=0;h<150;h++){d+=1,h>=75&&(d-=2);var v=e[d],p=h*l,y=n+(s-(v*=c))*Math.cos(p),w=i+(s-v)*Math.sin(p);a.lineTo(y,w),a.arc(y,w,2,0,2*Math.PI)}a.lineTo(u,f),a.stroke(),a.fillStyle=r.colors[1]||"#fff000",a.fill()}},8198:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.options,r=t.ctx,o=t.h,n=t.w,i=t.data,s=o<n?o:n,c=new a.default(r),l=e.colors;(i=[(i=c.mutateData(i,"organize")).mids,i.vocals])[0]=c.mutateData(i[0],"scale",s/4),i[1]=c.mutateData(i[1],"scale",s/8),i[0]=c.mutateData(i[0],"shrink",.2),i[0]=c.mutateData(i[0],"split",2)[0],i[0]=c.mutateData(i[0],"reverb"),i[1]=c.mutateData(i[1],"reverb");var u=c.getPoints("circle",s/2,[n/2,o/2],i[0].length,i[0]),f=c.getPoints("circle",s/4,[n/2,o/2],i[1].length,i[1]);c.drawPolygon(u.end,{close:!0,radius:4,lineColor:l[0],color:l[1]}),c.drawPolygon(f.end,{close:!0,radius:4,lineColor:l[2],color:l[3]});var d=(s/4+s/2)/2,h=i[1]=c.mutateData(i[1],"scale",s/4-s/2),v=c.getPoints("circle",d,[n/2,o/2],i[1].length,h);v.start.forEach((function(t,e){c.drawLine(t,v.end[e],{lineColor:l[4]||l[2]})}))}},5993:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/4,i=t.w/2,s=o/2,c=n/255,l=3.6*Math.PI/180,u=i+(n+0)*Math.cos(0),f=s+(n+0)*Math.sin(0);a.moveTo(u,f);for(var d=1;d<=100;d++){var h=e[350%d]*c,v=d*l,p=i+(n+h)*Math.cos(v),y=s+(n+h)*Math.sin(v);a.lineTo(p,y)}a.closePath(),a.stroke(),r.colors[1]&&(a.fillStyle=r.colors[1],a.fill())}},1411:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.options,r=t.ctx,o=t.h,n=t.w,i=t.data,s=e.colors,c=new a.default(r),l=o<n?o:n;(i=c.mutateData(i,"organize")).vocals=c.mutateData(i.vocals,"scale",l/2/2),i.base=c.mutateData(i.base,"scale",l/2/2);var u=c.getPoints("circle",l/2,[n/2,o/2],i.vocals.length,i.vocals),f=c.getPoints("circle",l/2,[n/2,o/2],i.vocals.length,i.vocals,{offset:100}),d=c.getPoints("circle",l/2,[n/2,o/2],i.base.length,i.base,{offset:100});u.start.forEach((function(t,e){c.drawLine(t,u.end[e],{lineColor:s[0]})})),c.drawPolygon(f.start,{close:!0,lineColor:s[1],color:s[3],radius:5}),c.drawPolygon(d.start,{close:!0,lineColor:s[2],color:s[4],radius:5})}},9329:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options,a=t.ctx,o=t.h,n=o/4,i=t.w/2,s=o/2,c=n/255,l=360/56*Math.PI/180,u=1;u<=56;u++){var f=e[u]*c,d=u*l,h=i+(n-f/2)*Math.cos(d),v=s+(n-f/2)*Math.sin(d);a.moveTo(h,v);var p=i+(n+f)*Math.cos(d),y=s+(n+f)*Math.sin(d);a.lineTo(p,y);var w=i+(n+f)*Math.cos(d+l),g=s+(n+f)*Math.sin(d+l);a.lineTo(w,g);var _=i+(n-f/2)*Math.cos(d+l),b=s+(n-f/2)*Math.sin(d+l);a.lineTo(_,b),a.lineTo(h,v)}r.colors[1]&&(a.fillStyle=r.colors[1],a.fill()),a.stroke()}},5240:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.options,r=t.ctx,o=t.h,n=t.w,i=t.data,s=e.colors,c=new a.default(r);i=c.mutateData(i,"shrink",300),i=c.mutateData(i,"scale",o/2),i=c.mutateData(i,"split",4).slice(0,3);var l=0;i.forEach((function(t){var e=c.getPoints("line",n,[0,o/2],t.length,t);c.drawPolygon(e.end,{lineColor:s[l],radius:.015*o});var r=c.getPoints("line",n,[0,o/2],t.length,t,{offset:100});c.drawPolygon(r.start,{lineColor:s[l],radius:.015*o}),l++}))}},7281:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.data,r=t.options.colors,a=t.ctx,o=t.h,n=o/4,i=n/4,s=t.w/2,c=o/2,l=(n-i-35)/255,u=3*Math.PI/180,f=[],d=[],h=1;h<=120;h++){var v=e[200%h]*l,p=h*u,y=s+(n-v+i)*Math.cos(p),w=c+(n-v+i)*Math.sin(p);a.moveTo(y,w),d.push({x:y,y:w});var g=s+(n+v+i)*Math.cos(p),_=c+(n+v+i)*Math.sin(p);a.lineTo(g,_),f.push({x:g,y:_})}for(var b in a.moveTo(f[0].x,f[0].y),f)b=f[b],a.lineTo(b.x,b.y);a.closePath(),a.moveTo(d[0].x,d[0].y);for(var m=d.length-1;m>=0;m--)m=d[m],a.lineTo(m.x,m.y);for(var m in a.closePath(),r[1]&&(a.fillStyle=r[1],a.fill()),a.stroke(),a.beginPath(),a.moveTo(d[0].x,d[0].y),d)m=d[m],a.lineTo(m.x,m.y);a.closePath(),r[2]&&(a.fillStyle=r[2],a.fill()),a.stroke()}},6271:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.ctx,r=t.h,o=t.w,n=t.data,i=new a.default(e);n=i.mutateData(n,"shrink",1/8),n=i.mutateData(n,"split",2)[0],n=i.mutateData(n,"scale",r);var s=i.getPoints("line",o,[0,r/2],n.length,n,{offset:50}),c=null;s.start.forEach((function(t,e){c&&i.drawLine(c,t),i.drawLine(t,s.end[e]),c=s.end[e]}))}},1176:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.ctx,r=t.h,o=t.w,n=t.data,i=new a.default(e),s=r<o?r:o;n=i.mutateData(n,"shrink",200),n=i.mutateData(n,"split",2)[0],n=i.mutateData(n,"scale",r/2);var c=i.getPoints("circle",s/2,[o/2,r/2],n.length,n,{offset:50});i.drawPolygon(c.end,{close:!0}),i.drawPolygon(c.start,{close:!0});for(var l=0;l<c.start.length;l+=1){var u=c.start[l];l++;var f=c.end[l]||c.end[0];i.drawLine(u,f),i.drawLine(f,c.start[l+1]||c.start[0])}}},1173:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.ctx,r=t.h,o=t.w,n=t.options,i=t.data,s=new a.default(e);i=s.mutateData(i,"split",4)[0],i=s.mutateData(i,"scale",r);var c=s.getPoints("line",o,[0,r],i.length,i,{offset:100});c.start=c.start.slice(0,c.end.length-1),c.start.push([o,r]),c.start.push([0,r]),s.drawPolygon(c.start,{lineColor:n[0],color:n[1],radius:.008*r})}},3120:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(733);e.default=function(t){var e=t.ctx,r=t.h,o=t.w,n=t.options,i=t.data,s=new a.default(e),c=r<o?r:o;i=s.mutateData(i,"shrink",100),i=s.mutateData(i,"split",2)[0];var l=i=s.mutateData(i,"scale",r/4),u=s.getPoints("circle",c/2,[o/2,r/2],i.length,i);s.drawPolygon(u.end,{close:!0}),u.start.forEach((function(t,e){s.drawLine(t,u.end[e])})),i=s.mutateData(i,"scale",.7),u=s.getPoints("circle",c/2,[o/2,r/2],i.length,i),s.drawPolygon(u.end,{close:!0}),i=s.mutateData(i,"scale",.3),u=s.getPoints("circle",c/2,[o/2,r/2],i.length,i),s.drawPolygon(u.end,{close:!0}),s.drawCircle([o/2,r/2],c/2,{color:n[2]}),l=s.mutateData(l,"scale",1.4),(u=s.getPoints("circle",c/2,[o/2,r/2],l.length,l)).end.forEach((function(t){s.drawCircle(t,.01*c,{color:n[1],lineColor:n[1]||n[0]})}))}},8919:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawWeb=e.drawWave=e.drawStitches=e.drawStatic=e.drawStar=e.drawShockWave=e.drawShine=e.drawRoundWave=e.drawRings=e.drawRing=e.drawOrbs=e.drawFlowerBlocks=e.drawFlower=e.drawFireworks=e.drawShineRings=e.drawDualBarsBlocks=e.drawDualBars=e.drawCubes=e.drawBigBars=e.drawBarsBlocks=e.drawBars=void 0;var a=r(329);e.drawBars=a.default;var o=r(8624);e.drawBarsBlocks=o.default;var n=r(3826);e.drawBigBars=n.default;var i=r(9736);e.drawCubes=i.default;var s=r(6064);e.drawDualBars=s.default;var c=r(7717);e.drawDualBarsBlocks=c.default;var l=r(1411);e.drawShineRings=l.default;var u=r(1046);e.drawFireworks=u.default;var f=r(9938);e.drawFlower=f.default;var d=r(2756);e.drawFlowerBlocks=d.default;var h=r(7750);e.drawOrbs=h.default;var v=r(4503);e.drawRing=v.default;var p=r(8198);e.drawRings=p.default;var y=r(5993);e.drawRoundWave=y.default;var w=r(9329);e.drawShine=w.default;var g=r(5240);e.drawShockWave=g.default;var _=r(7281);e.drawStar=_.default;var b=r(6271);e.drawStatic=b.default;var m=r(1176);e.drawStitches=m.default;var x=r(1173);e.drawWave=x.default;var O=r(3120);e.drawWeb=O.default},2005:function(t,e,r){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(5058),n=r(1265),i=r(5928),s=r(6332),c=r(2570);e.default=function(t,e,r,l){var u="string"==typeof t?document.getElementById(t):t;if(!u)throw new s.default("string"==typeof t?t:"");var f="string"==typeof e?document.getElementById(e):e;if(!u)throw new c.default("string"==typeof e?e:"");u.crossOrigin="anonymous";var d=a(a({},n.default),r||{});(0,i.checkGenerator)(d.type);var h=a({connectDestination:!0,skipUserEventsWatcher:!1,existingMediaStreamSource:null},l||{}),v=new o.default(u,f.id,d,h);return v.isActivated()||h.skipUserEventsWatcher?v.initialize():v.initializeAfterUserGesture(),{deactivate:function(){v.deactivate()}}}},979:function(t,e,r){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1265),n=r(510),i=r(5928);e.default=function(t,e,r){var s=a(a({},o.default),e||{}),c=a({width:window.innerWidth,height:window.innerHeight,format:"png",drawRate:20,callback:function(){return null}},r),l=c.callback,u=c.width,f=c.height,d=c.format,h=c.drawRate;(0,i.checkGenerator)(s.type);var v="image/"+d,p=function(t,e){var r=document.createElement("canvas");return r.height=e,r.width=t,r}(u,f),y=new Audio(t),w=new AudioContext,g=w.createAnalyser(),_=w.createMediaElementSource(y);g.fftSize=Math.pow(2,10);var b=g.frequencyBinCount,m=new Uint8Array(b),x=null;_.connect(g),y.addEventListener("loadedmetadata",(function(){return y.play().then()}));var O=function(){var t=1;x=setInterval((function(){g.getByteFrequencyData(m),(0,n.default)(m,p,s,t++),l(p.toDataURL(v))}),h)},S=function(){y.currentTime===y.duration&&void 0!==m&&clearInterval(x)};return y.addEventListener("play",O),y.addEventListener("ended",S),{deactivate:function(){y.removeEventListener("play",O),y.removeEventListener("ended",S),clearInterval(x),w.close().then(),(0,i.clearCanvas)(p),l(p.toDataURL(v))}}}},8557:function(t,e,r){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1265),n=r(510),i=r(5928),s=function(t,e,r,a,o){t.activated&&(e.getByteFrequencyData(t.data),(0,n.default)(t.data,t.canvasId,t.options,o),r[a.toString()].animation=requestAnimationFrame(t.loop))};e.default=function(t,e,r,n){var c=a(a({},o.default),r||{}),l=a({connectDestination:!0},n||{});(0,i.checkGenerator)(c.type);var u,f,d,h=l.connectDestination,v={canvasId:e,options:c,data:null,loop:null,animation:null,activated:!0},p=(0,i.initGlobalObject)("stream-sources",c.globalAccessKey);p[t.toString()]?(cancelAnimationFrame(p[t.toString()].animation),f=p[t.toString()].analyser):(u=new AudioContext,f=u.createAnalyser(),(d=u.createMediaStreamSource(t)).connect(f),h&&d.connect(u.destination),p[t.toString()]={audioCtx:u,analyser:f,source:d}),f.fftsize=32768;var y=f.frequencyBinCount;v.data=new Uint8Array(y);var w=1;return v.loop=function(){return s(v,f,p,t,++w)},s(v,f,p,t,w),{deactivate:function(){(0,i.clearCanvas)(document.getElementById(v.canvasId)),u.close().then(),v.activated=!1}}}},1265:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(5928),o={stroke:1,colors:["#d92027","#ff9234","#ffcd3c","#35d0ba"],type:r(8218).default.BARS,globalAccessKey:"$wave",getGlobal:function(t,e){var r=o.globalAccessKey;return(0,a.initGlobalObject)(t,r),window[r][t][e]},setGlobal:function(t,e,r){var n=o.globalAccessKey,i=o.getGlobal(t,e);return i||((0,a.setPropertyIfNotSet)(window[n][t],e,r),i=window[n][t][e]),i}};e.default=o},5928:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearCanvas=e.checkGenerator=e.setPropertyIfNotSet=e.initGlobalObject=void 0;var a=r(8721),o=r(7361),n=r(6968),i=r(8218),s=r(8057);e.initGlobalObject=function(t,r){var a=r+"."+t;return(0,e.setPropertyIfNotSet)(window,a,{}),o(window,a)},e.setPropertyIfNotSet=function(t,e,r){a(t,e)||n(t,e,r)},e.checkGenerator=function(t){(Array.isArray(t)?t:[t]).forEach((function(t){if(!Object.keys(i.default).map((function(t){return i.default[t]})).includes(t))throw new s.default(t)}))},e.clearCanvas=function(t){t&&t.getContext("2d").clearRect(0,0,t.width,t.height)}}},e={};function r(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,r),n.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var a={};return(()=>{"use strict";var t=a;r(7391);var e=r(2005),o=r(979),n=r(8557);t.default={fromElement:e.default,fromFile:o.default,fromStream:n.default}})(),a.default})()}));